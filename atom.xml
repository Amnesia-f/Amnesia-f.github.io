<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Amnesia&#39;s blog</title>
  
  <subtitle>Amnesia-f.github.io</subtitle>
  <link href="http://amnesia-f.github.io/atom.xml" rel="self"/>
  
  <link href="http://amnesia-f.github.io/"/>
  <updated>2022-05-01T07:05:09.632Z</updated>
  <id>http://amnesia-f.github.io/</id>
  
  <author>
    <name>Amnesia</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用Mx_Yolo_v3训练K210模型文件</title>
    <link href="http://amnesia-f.github.io/posts/k210/"/>
    <id>http://amnesia-f.github.io/posts/k210/</id>
    <published>2022-04-29T16:45:14.782Z</published>
    <updated>2022-05-01T07:05:09.632Z</updated>
    
    <content type="html"><![CDATA[<p>详细介绍了使用Mx_Yolo_v3训练K210模型文件的过程，包括本地及线上训练的过程。</p><span id="more"></span><h1 id="一、功能介绍"><a href="#一、功能介绍" class="headerlink" title="一、功能介绍"></a>一、功能介绍</h1><p>目前提供两种训练：</p><ul><li>目标分类： 识别图片所属的种类， 比如图中是苹果还是杯子, 没有坐标。 如下图，识别到了苹果，是苹果的概率为0.8</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E8%8B%B9%E6%9E%9C%E7%9B%AE%E6%A0%87%E5%88%86%E7%B1%BB.png" alt="苹果目标分类.png"></p><ul><li>目标检测： 检测图片中物体的位置， 并且输出这个物体的坐标和物体大小（即框出认识的物体）。 如下图， 识别到了苹果， 并且框出了位置， 是苹果的概率为0.8</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E8%8B%B9%E6%9E%9C%E7%9B%AE%E6%A0%87%E8%AF%86%E5%88%AB.png" alt="苹果目标识别.png"></p><h1 id="二、确定方案"><a href="#二、确定方案" class="headerlink" title="二、确定方案"></a>二、确定方案</h1><ol><li><p>首先确定要训练哪种模型。<br>在上面支持的模型中选择一个，如果不需要检测物体坐标， 用目标分类， 需要坐标则目标识别，<br>两者处理数据要做的工作和格式都不一样， 后者会复杂很多。</p></li><li><p>确定分类。 包括分类数量， 具体分类。 比如这里以识别红色小球和玩具为例:</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E7%A1%AE%E5%AE%9A%E5%88%86%E7%B1%BB1.png" alt="确定分类1.png"><br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E7%A1%AE%E5%AE%9A%E5%88%86%E7%B1%BB2.png" alt="确定分类2.png"></p><p>所以共两个分类： <code>ball</code> 和 <code>toy</code>， 我们也称之为<code>标签(label)</code>，</p><blockquote><p>注意！分类名（标签/label）只能使用英文字符和下划线</p></blockquote><ol start="3"><li>确定分辨率。 图片的分辨率也十分重要，不管是在采集、训练，还是使用时， 都需要十分注意， 稍不注意，模型可能就无法使用或者识别精度低。<br>以下为Maixhub目前支持的分辨率，其它分辨率将会训练失败：</li></ol><p>目标分类、目标检测： <code>224x224</code>（推荐）</p><p>确定采集数据集（这里就是所有图片的统称）数量。 即确定好每个分类的图片数量，方便后面采集图片快速准确进行，</p><h1 id="三、获取，处理数据集"><a href="#三、获取，处理数据集" class="headerlink" title="三、获取，处理数据集"></a>三、获取，处理数据集</h1><h2 id="1-采集数据"><a href="#1-采集数据" class="headerlink" title="1.采集数据"></a>1.采集数据</h2><ol><li><p>图片数据的采集可以使用任意的图片采集工具。某些特定的图片数据，可能需要用k210主控板的摄像头来拍摄，这样数据使用会比较准确。</p></li><li><p>手机拍照， 然后使用预处理工具处理成需要的分辨率</p></li><li><p>可以使用网络爬虫在网络上按名称爬取图片，在Mx_yolo_v3的“工具集”菜单中，使用图片爬取工具可以爬取需要的照片。</p></li></ol><blockquote><p>注：要把无效图片去除，否则会影响训练!</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E7%88%AC%E8%99%AB.png" alt="数据采集爬虫.png"></p><p>得到图片数据后，将其导入电脑：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E5%BE%97%E5%88%B0%E5%9B%BE%E7%89%87.png" alt="得到图片.png"></p><h2 id="2-处理图片分辨率"><a href="#2-处理图片分辨率" class="headerlink" title="2.处理图片分辨率"></a>2.处理图片分辨率</h2><p>打开<code>Image_tool.exe</code>软件，看到以下界面，点击<code>选择图像文件夹...</code>，选择存放采集照片的文件夹，设置分辨率为<code>224*224</code>。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%89%93%E5%BC%80%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86%E8%BD%AF%E4%BB%B6.png" alt="打开图片处理软件.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E5%A4%B9.png" alt="打开文件夹.png"></p><p>等待处理完毕后，即可得到<code>224*224</code>分辨率的图片：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E5%A4%84%E7%90%86%E5%9B%BE%E7%89%87%E5%AE%8C%E6%88%90.png" alt="处理图片完成.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E5%A4%84%E7%90%86%E5%9B%BE%E7%89%87%E5%AE%8C%E6%88%901.png" alt="处理图片完成1.png"></p><h2 id="3-对图片进行更名"><a href="#3-对图片进行更名" class="headerlink" title="3.对图片进行更名"></a>3.对图片进行更名</h2><p>打开 拖把更名器 文件夹中的<code>xTools.exe</code></p><p>点击菜单栏中的<code>序号</code>，接下来按照下图步骤操作即可：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E5%BA%8F%E5%8F%B7%E6%9B%B4%E5%90%8D.png" alt="序号更名.png"></p><p>应用更改后即可得到按照序号排列的文件名：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%9B%B4%E5%90%8D%E5%AE%8C%E6%88%90.png" alt="更名完成.png"></p><h2 id="4-标注图片"><a href="#4-标注图片" class="headerlink" title="4.标注图片"></a>4.标注图片</h2><blockquote><p>此步骤仅<code>目标检测</code>需要操作！</p></blockquote><blockquote><p><code>目标分类</code>可跳过此步骤。</p></blockquote><p>新建一个<code>mask</code>文件夹，里面新建<code>images</code>和<code>xml</code>文件夹，将先前处理好的图片数据丢入<code>images</code>文件夹。</p><p>打开<code>LabelImg</code>软件：</p><ol><li>更改图片所在文件夹；</li><li>更改标签所在文件夹；</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%A0%87%E6%B3%A8%E8%BD%AF%E4%BB%B6%E9%80%89%E6%8B%A9%E6%96%87%E4%BB%B6%E5%A4%B9.png" alt="标注软件选择文件夹.png"></p><ol><li>点击 <code>Create RectBox</code> 进行标注；</li><li>在图片上拖选出需要识别的标注部分；</li><li>输入<code>标签/label</code>名，点击OK；</li><li>点击 <code>Save</code> 保存；</li><li>点击<code>Next Images</code> 标注下一张图片；</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%A0%87%E6%B3%A8%E8%BD%AF%E4%BB%B6%E6%A0%87%E6%B3%A8%E8%BF%87%E7%A8%8B.png" alt="标注软件标注过程.png"></p><p>到此数据集的处理和准备工作完毕，接下来就可以开始训练模型了！</p><h1 id="四、训练模型"><a href="#四、训练模型" class="headerlink" title="四、训练模型"></a>四、训练模型</h1><h2 id="1-目标分类"><a href="#1-目标分类" class="headerlink" title="1.目标分类"></a>1.目标分类</h2><h3 id="1-1-线上Maixhub平台"><a href="#1-1-线上Maixhub平台" class="headerlink" title="1.1 线上Maixhub平台"></a>1.1 线上Maixhub平台</h3><h4 id="打包数据集"><a href="#打包数据集" class="headerlink" title="打包数据集"></a>打包数据集</h4><p>将数据集按以下分支保存，</p><p>并将其压缩为<code>zip</code>文件：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">datasets.zip</span><br><span class="line">            |</span><br><span class="line">            datasets</span><br><span class="line">                    |</span><br><span class="line">                     ----mask</span><br><span class="line">                    |        |</span><br><span class="line">                    |         ---<span class="number">0.</span>jpg</span><br><span class="line">                    |        |</span><br><span class="line">                    |         ---<span class="number">1.</span>jpg</span><br><span class="line">                    |        |</span><br><span class="line">                    |         ---<span class="number">2.</span>jpg</span><br><span class="line">                    |</span><br><span class="line">                     ----redbull</span><br><span class="line">                           |</span><br><span class="line">                            ---<span class="number">0.</span>jpg</span><br><span class="line">                           |</span><br><span class="line">                            ---<span class="number">1.</span>jpg</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%89%93%E5%8C%85%E6%95%B0%E6%8D%AE%E9%9B%861.png" alt="打包数据集1.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%89%93%E5%8C%85%E6%95%B0%E6%8D%AE%E9%9B%862.png" alt="打包数据集2.png"></p><p>压缩文件命名为<code>datasets.zip</code>，注意大小不要超过20MB。</p><h4 id="训练过程"><a href="#训练过程" class="headerlink" title="训练过程"></a>训练过程</h4><p>打开Maixhub注册地址：<a href="https://www.maixhub.com/register">https://www.maixhub.com/register</a>，注册一个账号：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%B3%A8%E5%86%8C%E5%B9%B3%E5%8F%B0.png" alt="注册平台.png"></p><blockquote><p>注册成功后记得去邮箱激活账号。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%BF%80%E6%B4%BB%E8%B4%A6%E5%8F%B7.png" alt="激活账号.png"></p><p>回到首页，点击网页顶部的<code>模型训练</code></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%831.png" alt="模型训练1.png"></p><p>选择<code>物体分类</code>，点击 Next ：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%832.png" alt="模型训练2.png"></p><p>上传前面打包好的数据集：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%833.jpg" alt="模型训练3.png"></p><p>上传完成后点击<code>Submit</code>，之后耐心等待即可：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%834.png" alt="模型训练4.png"></p><p>等待一段时间训练完成后，来到此界面，点击 Download 下载训练好的模型文件：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%835.png" alt="模型训练5.png"></p><p>下载回来得到以下文件，将其全部丢入K210板的sd卡中，上电之后即可实现简单的目标分类功能：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E8%AE%AD%E7%BB%83%E7%BB%93%E6%9E%9C%E4%B8%8B%E8%BD%BD%E5%8E%8B%E7%BC%A9%E5%8C%85.png" alt="训练结果下载压缩包.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E5%88%86%E7%B1%BB%E8%AF%86%E5%88%AB%E6%95%88%E6%9E%9C1.jpg" alt="分类识别效果1.jpg"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E5%88%86%E7%B1%BB%E8%AF%86%E5%88%AB%E6%95%88%E6%9E%9C2.jpg" alt="分类识别效果2.jpg"></p><h3 id="1-2-线下Mx-Yolo-v3训练"><a href="#1-2-线下Mx-Yolo-v3训练" class="headerlink" title="1.2 线下Mx_Yolo_v3训练"></a>1.2 线下Mx_Yolo_v3训练</h3><h4 id="保存数据集"><a href="#保存数据集" class="headerlink" title="保存数据集"></a>保存数据集</h4><p>将数据集按以下分支保存，</p><p>线下训练无需打包为压缩包。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">images</span><br><span class="line">      |</span><br><span class="line">        ----apples</span><br><span class="line">      |      |</span><br><span class="line">      |       ---<span class="number">0.</span>jpg</span><br><span class="line">      |      |</span><br><span class="line">      |       ---<span class="number">1.</span>jpg</span><br><span class="line">      |      |</span><br><span class="line">      |       ---<span class="number">2.</span>jpg</span><br><span class="line">      |</span><br><span class="line">        ----bananas</span><br><span class="line">              |</span><br><span class="line">              ---<span class="number">0.</span>jpg</span><br><span class="line">              |</span><br><span class="line">              ---<span class="number">1.</span>jpg</span><br></pre></td></tr></table></figure><h4 id="进行训练"><a href="#进行训练" class="headerlink" title="进行训练"></a>进行训练</h4><p>打开<code>Mxyolov3</code>，点击<code>图像分类</code></p><p>点击<code>选择</code>，选取到刚才调整好的<code>images</code>文件夹，再点击<code>提取</code>，此时正常来说可以显示出你的各label名称，比如我的是<code>apples,bananas</code>。</p><p>其他配置参数可以保持默认无需更改，如果需要更高的识别率可以调整训练次数的多少。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/yolo%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB.png" alt="yolo图像分类.png"></p><p>点击开始训练，耐心等待一段时间即可。</p><p>跑完训练过程后，会出现两个结果图，关闭即可，等待信息栏出现over,end等字样即代表训练过程完成，会自动弹出存放模型文件的文件夹。</p><blockquote><p>需记录下此文件夹路径，后面需要用到，一般在Mx_yolo安装目录下的<code>Model_file</code>文件夹中。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/yolo%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB%E8%AE%AD%E7%BB%831.jpg" alt="yolo图像分类训练1.jpg"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/yolo%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB%E8%AE%AD%E7%BB%832.png" alt="yolo图像分类训练2.png"></p><h4 id="测试模型"><a href="#测试模型" class="headerlink" title="测试模型"></a>测试模型</h4><p>点击右上角的<code>测试模型</code>，选择刚才训练完毕后弹出的文件夹中的<code>weights.h5</code>文件，得到以下结果。</p><p>可以看到有关苹果的图片被标注上apples，说明模型可以正常使用。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/yolo%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB%E6%B5%8B%E8%AF%95%E6%A8%A1%E5%9E%8B.jpg" alt="yolo图像分类测试模型.jpg"></p><h4 id="转换模型"><a href="#转换模型" class="headerlink" title="转换模型"></a>转换模型</h4><p>Mx_yolo_v3中训练出的模型无法直接在K210板上使用，需要转换为kmodel文件，</p><p>在软件中内置了模型转换软件，点击右上角的<code>转换模型</code>，进入以下界面：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/yolo%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2.png" alt="yolo图像分类模型转换.png"></p><ol><li>模型输入路径选择刚才弹出的<code>Model_file</code>文件夹下的<code>weights.tflite</code>文件；</li><li>模型输出路径选择你需要导出的文件所在路径；</li><li>量化图片路径选择你的图片数据集。</li></ol><p>转换成功后即可放入sd卡在K210板中运行。</p><h2 id="2-目标检测"><a href="#2-目标检测" class="headerlink" title="2.目标检测"></a>2.目标检测</h2><h3 id="1-1-线上-Maixhub-平台"><a href="#1-1-线上-Maixhub-平台" class="headerlink" title="1.1 线上 Maixhub 平台"></a>1.1 线上 Maixhub 平台</h3><h4 id="打包数据集-1"><a href="#打包数据集-1" class="headerlink" title="打包数据集"></a>打包数据集</h4><p>新建一个<code>labels.txt</code>, 输入标记的标签， 每行一个， 比如这里：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ball</span><br><span class="line">toy</span><br></pre></td></tr></table></figure><p>这是必须的， 否则数据会无效。</p><p>然后目录结构如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">datasets.zip</span><br><span class="line">            |</span><br><span class="line">            datasets</span><br><span class="line">                    |</span><br><span class="line">                     ----images</span><br><span class="line">                    |        |</span><br><span class="line">                    |        |---<span class="number">0.</span>jpg</span><br><span class="line">                    |        |</span><br><span class="line">                    |         ---<span class="number">1.</span>jpg</span><br><span class="line">                    |</span><br><span class="line">                    |------xml</span><br><span class="line">                    |        |---<span class="number">0.</span>xml</span><br><span class="line">                    |        |</span><br><span class="line">                    |        |---<span class="number">1.</span>xml</span><br><span class="line">                    |</span><br><span class="line">                     ----labels.txt</span><br></pre></td></tr></table></figure><p>或者两级labelimg输出：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">datasets.zip</span><br><span class="line">          |</span><br><span class="line">           datasets</span><br><span class="line">                  |</span><br><span class="line">                  |---images</span><br><span class="line">                  |      |</span><br><span class="line">                  |       ----ball</span><br><span class="line">                  |      |       |</span><br><span class="line">                  |      |        ---<span class="number">0.</span>jpg</span><br><span class="line">                  |      |       |</span><br><span class="line">                  |      |        ---<span class="number">1.</span>jpg</span><br><span class="line">                  |      |</span><br><span class="line">                  |       ----toy</span><br><span class="line">                  |      |      |</span><br><span class="line">                  |      |       ---<span class="number">0.</span>jpg</span><br><span class="line">                  |       ---pic0.jpg</span><br><span class="line">                  |---xml</span><br><span class="line">                  |     |</span><br><span class="line">                  |      ----ball</span><br><span class="line">                  |     |        |</span><br><span class="line">                  |     |         ---<span class="number">0.</span>xml</span><br><span class="line">                  |     |        |</span><br><span class="line">                  |     |         ---<span class="number">1.</span>xml</span><br><span class="line">                  |     |</span><br><span class="line">                  |      ----toy</span><br><span class="line">                  |     |       |</span><br><span class="line">                  |     |        ---<span class="number">0.</span>xml</span><br><span class="line">                  |      ----pic0.xml</span><br><span class="line">                   --labels.txt</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/label%E6%96%87%E4%BB%B6.png" alt="label文件.png"></p><h4 id="训练过程-1"><a href="#训练过程-1" class="headerlink" title="训练过程"></a>训练过程</h4><p>目标检测与目标分类的线上训练过程完全相同，仅需更改为对应模式即可，</p><p>参考<code>四、 1.  1.1  训练过程</code>处步骤即可。</p><h3 id="1-2-线下-Mx-yolo-v3-训练"><a href="#1-2-线下-Mx-yolo-v3-训练" class="headerlink" title="1.2 线下 Mx_yolo_v3 训练"></a>1.2 线下 Mx_yolo_v3 训练</h3><p>打开软件，选择<code>目标识别</code></p><ol><li>选择网络为<code>Yolov2-K210</code>；</li><li>训练图片地址选择为你图片训练集的路径；</li><li>训练标签地址选择为你为图片标注后保存的xml文件路径；</li><li>点击<code>自动提取</code>，将提取出种类名称，即label；</li><li>点击<code>计算</code>，将自动计算出锚点，即author，后面会用到。</li><li>其他配置可保持默认不变，建议取消勾选数据校验，容易闪退。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/yolo%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E7%95%8C%E9%9D%A2.jpg" alt="yolo目标检测界面.jpg"></p><p>点击<code>开始训练</code>即可；</p><p>等待训练完成后会出现类似于目标分类后的曲线图，关闭后再稍等片刻即可。</p><h4 id="模型转换"><a href="#模型转换" class="headerlink" title="模型转换"></a>模型转换</h4><p>此步骤与前面大同小异，参考<code>四、 1.  1.2  测试模型、转换模型</code>处步骤。</p><h1 id="五、上传程序"><a href="#五、上传程序" class="headerlink" title="五、上传程序"></a>五、上传程序</h1><h2 id="目标分类"><a href="#目标分类" class="headerlink" title="目标分类"></a>目标分类</h2><p>使用以下代码：</p><ol><li>需要在代码15行及70行修改引用的kmodel文件：<code>model_addr=&quot;/sd/fruit.kmodel&quot;</code></li><li>需要在代码68行修改你的label名：<code>labels = [&quot;apples&quot;, &quot;bananas&quot;]</code></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sensor, image, lcd, time</span><br><span class="line"><span class="keyword">import</span> KPU <span class="keyword">as</span> kpu</span><br><span class="line"><span class="keyword">import</span> gc, sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lcd_show_except</span>(<span class="params">e</span>):</span></span><br><span class="line">    <span class="keyword">import</span> uio</span><br><span class="line">    err_str = uio.StringIO()</span><br><span class="line">    sys.print_exception(e, err_str)</span><br><span class="line">    err_str = err_str.getvalue()</span><br><span class="line">    img = image.Image(size=(<span class="number">224</span>,<span class="number">224</span>))</span><br><span class="line">    img.draw_string(<span class="number">0</span>, <span class="number">10</span>, err_str, scale=<span class="number">1</span>, color=(<span class="number">0xff</span>,<span class="number">0x00</span>,<span class="number">0x00</span>))</span><br><span class="line">    lcd.display(img)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">labels = <span class="literal">None</span>, model_addr=<span class="string">&quot;/sd/fruit.kmodel&quot;</span>, sensor_window=(<span class="params"><span class="number">224</span>, <span class="number">224</span></span>), lcd_rotation=<span class="number">0</span>, sensor_hmirror=<span class="literal">False</span>, sensor_vflip=<span class="literal">False</span></span>):</span></span><br><span class="line">    sensor.reset()</span><br><span class="line">    sensor.set_pixformat(sensor.RGB565)</span><br><span class="line">    sensor.set_framesize(sensor.QVGA)</span><br><span class="line">    sensor.set_windowing(sensor_window)</span><br><span class="line">    sensor.set_hmirror(sensor_hmirror)</span><br><span class="line">    sensor.set_vflip(sensor_vflip)</span><br><span class="line">    sensor.run(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    lcd.init(<span class="built_in">type</span>=<span class="number">1</span>)</span><br><span class="line">    lcd.rotation(lcd_rotation)</span><br><span class="line">    lcd.clear(lcd.WHITE)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> labels:</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;labels.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="built_in">exec</span>(f.read())</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> labels:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;no labels.txt&quot;</span>)</span><br><span class="line">        img = image.Image(size=(<span class="number">320</span>, <span class="number">240</span>))</span><br><span class="line">        img.draw_string(<span class="number">90</span>, <span class="number">110</span>, <span class="string">&quot;no labels.txt&quot;</span>, color=(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), scale=<span class="number">2</span>)</span><br><span class="line">        lcd.display(img)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        img = image.Image(<span class="string">&quot;startup.jpg&quot;</span>)</span><br><span class="line">        lcd.display(img)</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        img = image.Image(size=(<span class="number">320</span>, <span class="number">240</span>))</span><br><span class="line">        img.draw_string(<span class="number">90</span>, <span class="number">110</span>, <span class="string">&quot;loading model...&quot;</span>, color=(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), scale=<span class="number">2</span>)</span><br><span class="line">        lcd.display(img)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        task = <span class="literal">None</span></span><br><span class="line">        task = kpu.load(model_addr)</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">            img = sensor.snapshot()</span><br><span class="line">            t = time.ticks_ms()</span><br><span class="line">            fmap = kpu.forward(task, img)</span><br><span class="line">            t = time.ticks_ms() - t</span><br><span class="line">            plist=fmap[:]</span><br><span class="line">            pmax=<span class="built_in">max</span>(plist) </span><br><span class="line">            max_index=plist.index(pmax)</span><br><span class="line">            img.draw_string(<span class="number">0</span>,<span class="number">0</span>, <span class="string">&quot;%.2f : %s&quot;</span> %(pmax, labels[max_index].strip()), scale=<span class="number">2</span>, color=(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">            img.draw_string(<span class="number">0</span>, <span class="number">200</span>, <span class="string">&quot;t:%dms&quot;</span> %(t), scale=<span class="number">2</span>, color=(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">            lcd.display(img)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">raise</span> e</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> task <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            kpu.deinit(task)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        labels = [<span class="string">&quot;apples&quot;</span>, <span class="string">&quot;bananas&quot;</span>]</span><br><span class="line">        <span class="comment"># main(labels=labels, model_addr=0x300000)</span></span><br><span class="line">        main(labels=labels, model_addr=<span class="string">&quot;/sd/fruit.kmodel&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        sys.print_exception(e)</span><br><span class="line">        lcd_show_except(e)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        gc.collect()</span><br></pre></td></tr></table></figure><h2 id="目标检测"><a href="#目标检测" class="headerlink" title="目标检测"></a>目标检测</h2><p>根据实际情况修改即可：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E4%BB%A3%E7%A0%81%E6%88%AA%E5%9B%BE.png" alt="目标检测代码截图.png"></p><h1 id="六、出错问题"><a href="#六、出错问题" class="headerlink" title="六、出错问题"></a>六、出错问题</h1><h2 id="1-内存不足"><a href="#1-内存不足" class="headerlink" title="1.内存不足"></a>1.内存不足</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SYSCALL: Out of memory</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;main.py&quot;</span>, line <span class="number">24</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ValueError: [Maixduino]kpu: load error:<span class="number">2006</span>, ERR_NO_MEM: memory <span class="keyword">not</span> enough</span><br></pre></td></tr></table></figure><p>解决办法：刷mini固件，<a href="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/mini.bin">下载地址</a></p><h2 id="2-锚点错误"><a href="#2-锚点错误" class="headerlink" title="2.锚点错误"></a>2.锚点错误</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File <span class="string">&quot;main.py&quot;</span>, line <span class="number">30</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ValueError: [MAIXPY]kpu: region_layer_init err!</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E7%9B%AE%E6%A0%87%E5%88%86%E7%B1%BB%E9%94%9A%E7%82%B9%E9%94%99%E8%AF%AF.png" alt="目标分类锚点错误.png"></p><p>此问题为使用目标分类模型，但没有使用到锚点所报的错。</p><p>解决方法：参考上文提供的代码，使用Python纯代码编写程序。</p><h2 id="3-转换失败"><a href="#3-转换失败" class="headerlink" title="3.转换失败"></a>3.转换失败</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%A4%B1%E8%B4%A5.jpg" alt="模型转换失败.jpg"></p><p>解决方法：无，更换电脑重试。</p><h1 id="七、下载资源"><a href="#七、下载资源" class="headerlink" title="七、下载资源"></a>七、下载资源</h1><ul><li><p>Mx_Yolo-v3安装包：<a href="https://www.aliyundrive.com/s/Vknz8mtKqMj">https://www.aliyundrive.com/s/Vknz8mtKqMj</a></p><blockquote><p>提取码zl04</p></blockquote></li><li><p>mini固件：<a href="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%BD%BF%E7%94%A8Mx_Yolo_v3%E8%AE%AD%E7%BB%83K210%E6%A8%A1%E5%9E%8B%E6%96%87%E4%BB%B6/mini.bin">下载地址</a></p></li><li><p>其他软件及代码等文件：<br>可以在评论区留下邮箱，网盘多有空间及文件类型限制，分享过于麻烦。</p></li></ul><h1 id="八、参考文档"><a href="#八、参考文档" class="headerlink" title="八、参考文档"></a>八、参考文档</h1><ul><li><p><a href="https://www.maixhub.com/ModelTrainingHelp_zh.html">Maixhub 模型训练平台使用说明</a></p></li><li><p><a href="https://mc.dfrobot.com.cn/thread-307935-1-1.html">博派史上最强K210板教程6——模型训练</a></p></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;详细介绍了使用Mx_Yolo_v3训练K210模型文件的过程，包括本地及线上训练的过程。&lt;/p&gt;</summary>
    
    
    
    <category term="人工智能" scheme="http://amnesia-f.github.io/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
    
    <category term="Yolo" scheme="http://amnesia-f.github.io/tags/Yolo/"/>
    
    <category term="人工智能" scheme="http://amnesia-f.github.io/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>无视限制升级安装Windows11</title>
    <link href="http://amnesia-f.github.io/posts/ce04/"/>
    <id>http://amnesia-f.github.io/posts/ce04/</id>
    <published>2022-04-17T12:47:35.000Z</published>
    <updated>2022-04-17T13:16:36.297Z</updated>
    
    <content type="html"><![CDATA[<p>无视TPM及CPU更新Windows11的方法，可保留个人文件及应用。</p><span id="more"></span><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在新推出的Windows11中，新增了对TPM模块的要求，但一些老机型显然不支持，针对这一情况写下此教程。</p><p>此方法适用于不符合系统升级要求的机型(无TPM，CPU不支持)，如要求通过直接升级即可。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E6%97%A0%E8%A7%86%E9%99%90%E5%88%B6%E5%8D%87%E7%BA%A7%E5%AE%89%E8%A3%85Windows11/%E8%A6%81%E6%B1%82.png" alt="要求"></p><h2 id="下载镜像"><a href="#下载镜像" class="headerlink" title="下载镜像"></a>下载镜像</h2><p>打开下方的链接，下载win11的镜像文件，</p><p>因阿里云盘不支持分享iso文件，故上传为pdf文件，下载完成后将文件后缀名改为<code>iso</code>即可。</p><blockquote><p><a href="https://www.aliyundrive.com/s/ugF5CwoSaNE">https://www.aliyundrive.com/s/ugF5CwoSaNE</a>  提取码: <code>4sx6</code></p></blockquote><h2 id="打开镜像"><a href="#打开镜像" class="headerlink" title="打开镜像"></a>打开镜像</h2><p>下载完成并更改文件后缀名后，双击打开，得到以下文件：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E6%97%A0%E8%A7%86%E9%99%90%E5%88%B6%E5%8D%87%E7%BA%A7%E5%AE%89%E8%A3%85Windows11/1.png" alt="1"></p><blockquote><p>此时，<strong>断开网络连接</strong>！</p></blockquote><blockquote><p>此时，<strong>断开网络连接</strong>！</p></blockquote><blockquote><p>此时，<strong>断开网络连接</strong>！</p></blockquote><p>断网后点击<code>setup.exe</code>，进入安装界面。</p><h2 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h2><p>等待检查完毕后，进入以下界面，</p><p>点击<code>更改安装程序下载更新的方式</code></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E6%97%A0%E8%A7%86%E9%99%90%E5%88%B6%E5%8D%87%E7%BA%A7%E5%AE%89%E8%A3%85Windows11/2.png" alt="2"></p><p>选择<code>不是现在</code>：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E6%97%A0%E8%A7%86%E9%99%90%E5%88%B6%E5%8D%87%E7%BA%A7%E5%AE%89%E8%A3%85Windows11/3.png" alt="3"></p><p>接着一路下一页即可，点击安装：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E6%97%A0%E8%A7%86%E9%99%90%E5%88%B6%E5%8D%87%E7%BA%A7%E5%AE%89%E8%A3%85Windows11/4.png" alt="4"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E6%97%A0%E8%A7%86%E9%99%90%E5%88%B6%E5%8D%87%E7%BA%A7%E5%AE%89%E8%A3%85Windows11/5.png" alt="5"></p><p>接着就是漫长的等待之旅了……</p><h2 id="Enjoy"><a href="#Enjoy" class="headerlink" title="Enjoy"></a>Enjoy</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E6%97%A0%E8%A7%86%E9%99%90%E5%88%B6%E5%8D%87%E7%BA%A7%E5%AE%89%E8%A3%85Windows11/6.png" alt="6"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E6%97%A0%E8%A7%86%E9%99%90%E5%88%B6%E5%8D%87%E7%BA%A7%E5%AE%89%E8%A3%85Windows11/7.png" alt="7"></p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><blockquote><p>参考视频：<a href="https://www.bilibili.com/video/BV16b4y1a7Ev">https://www.bilibili.com/video/BV16b4y1a7Ev</a></p></blockquote><p>我的升级完毕后自带的微软输入法出现了无法显示候选框的bug，通过在设置的兼容性里打开使用旧版输入法才解决：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E6%97%A0%E8%A7%86%E9%99%90%E5%88%B6%E5%8D%87%E7%BA%A7%E5%AE%89%E8%A3%85Windows11/8.png" alt="8"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;无视TPM及CPU更新Windows11的方法，可保留个人文件及应用。&lt;/p&gt;</summary>
    
    
    
    <category term="PC" scheme="http://amnesia-f.github.io/categories/PC/"/>
    
    <category term="系统镜像" scheme="http://amnesia-f.github.io/categories/PC/%E7%B3%BB%E7%BB%9F%E9%95%9C%E5%83%8F/"/>
    
    
    <category term="PC" scheme="http://amnesia-f.github.io/tags/PC/"/>
    
    <category term="Windows" scheme="http://amnesia-f.github.io/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>为AppInventor添加在线更新功能</title>
    <link href="http://amnesia-f.github.io/posts/6ec6/"/>
    <id>http://amnesia-f.github.io/posts/6ec6/</id>
    <published>2022-02-27T09:30:58.000Z</published>
    <updated>2022-02-27T15:30:41.350Z</updated>
    
    <content type="html"><![CDATA[<p>在AppInventor应用上通过aix扩展，实现在线检测更新并自动下载安装包并安装的功能。</p><span id="more"></span><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>当我们在开发一个APP项目时，总会更新迭代，在新版本中修复以前已知的bug或添加新功能。</p><p>但是我们不可能让用户重新下载一次安装包并安装更新，这样会大大降低用户更新的积极性。</p><p>这时候我们就需要给我们的APP加上在线检测更新并自动下载安装包并安装的功能。但是AppInventor默认的程序中不支持这项功能。</p><p>我们可以通过添加aix扩展的方式，实现这个功能。</p><h2 id="所需扩展"><a href="#所需扩展" class="headerlink" title="所需扩展"></a>所需扩展</h2><ul><li><p><code>Custom_Downloader</code></p></li><li><p><code>KIO4_Install</code></p></li><li><p><code>Dialogs</code></p></li></ul><blockquote><p>下载链接见文末</p></blockquote><h2 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h2><p>首先在项目中添加扩展，并将其添加到屏幕上：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/%E6%B7%BB%E5%8A%A0%E6%89%A9%E5%B1%95.png" alt="添加扩展.png"></p><p>进入编程界面，我们需要先检测当前的版本是否为最新版本，这里通过读取TinyWebDB数据库实现：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/%E6%A3%80%E6%9F%A5%E7%89%88%E6%9C%AC.png" alt="检查版本.png"></p><p>如果获取到的版本号高于本地App的版本号，则询问用户是否进行更新。</p><p>当用户确认更新后，我们调取扩展获得更新安装包的url，再进行下载：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/%E4%B8%8B%E8%BD%BD%E6%9B%B4%E6%96%B0.png" alt="下载更新.png"></p><p>下载的同时，使用进度框显示下载进度：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/%E6%98%BE%E7%A4%BA%E8%BF%9B%E5%BA%A6.png" alt="显示进度.png"></p><p>当下载完成时，调用扩展安装下载路径下的安装包：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/%E8%B0%83%E7%94%A8%E5%AE%89%E8%A3%85.png" alt="调用安装.png"></p><p>接下来需要用户进行同意，同意后即可成功安装更新。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/%E5%90%8C%E6%84%8F%E5%AE%89%E8%A3%85.jpg" alt="同意安装.jpg"></p><h2 id="扩展功能"><a href="#扩展功能" class="headerlink" title="扩展功能"></a>扩展功能</h2><ol><li><p>通过暂停和恢复开始下载；</p></li><li><p>在默认下载文件夹或自定义特定文件夹中下载文件；</p></li><li><p>自动文件名从下载 URL 获取；</p></li><li><p>显示下载文件的总大小；</p></li><li><p>显示当前下载进度大小；</p></li><li><p>自定义文件名；</p></li><li><p>下载完成后获取文件路径。</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/GIF%E6%BC%94%E7%A4%BA.gif" alt="GIF演示.gif"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81%E5%9D%97_1.png" alt="全部代码块_1.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81%E5%9D%97_2.png" alt="全部代码块_2.png"></p><h2 id="扩展来源"><a href="#扩展来源" class="headerlink" title="扩展来源"></a>扩展来源</h2><p><a href="https://community.kodular.io/t/custom-downloader-extension-for-kodular-free/16487">Custom Downloader Extension For Kodular (Free) - Extensions - Kodular Community</a></p><p>Download Extension - <a href="https://community.kodular.io/uploads/short-url/ubVEPDhP5ikkPMlsoyFEiunE4dg.aix">yt.DeepHost.Custom_Download.aix</a> (78.6 KB)</p><p>Download AIA FIle - <a href="https://community.kodular.io/uploads/short-url/fVrLRlA7So3cj6xSowwUu1rRqVw.aia">Custom_Downloder_v2.aia</a> (81.7 KB)</p><h2 id="下载链接"><a href="#下载链接" class="headerlink" title="下载链接"></a>下载链接</h2><p><a href="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/yt.DeepHost.Custom_Download.aix">Custom_Downloader</a></p><p><a href="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E4%B8%BAAppInventor%E6%B7%BB%E5%8A%A0%E5%9C%A8%E7%BA%BF%E6%9B%B4%E6%96%B0%E5%8A%9F%E8%83%BD/com.KIO4_Install.aix">KIO4_Install</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;在AppInventor应用上通过aix扩展，实现在线检测更新并自动下载安装包并安装的功能。&lt;/p&gt;</summary>
    
    
    
    <category term="AppInventor" scheme="http://amnesia-f.github.io/categories/AppInventor/"/>
    
    
    <category term="App Inventor" scheme="http://amnesia-f.github.io/tags/App-Inventor/"/>
    
  </entry>
  
  <entry>
    <title>基于物联网的师生呼叫系统</title>
    <link href="http://amnesia-f.github.io/posts/m762/"/>
    <id>http://amnesia-f.github.io/posts/m762/</id>
    <published>2022-02-04T09:30:58.000Z</published>
    <updated>2022-02-05T02:19:40.882Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>本文系湛江市第十七中学星火创客团队参赛项目，转载请保留声明</strong>！</p></blockquote><br/><h1 id="作品所用到的软件"><a href="#作品所用到的软件" class="headerlink" title="作品所用到的软件"></a>作品所用到的软件</h1><ol><li>Mind+</li><li>LaserMaker</li><li>App Inventor</li></ol><h1 id="作品所用到的硬件"><a href="#作品所用到的硬件" class="headerlink" title="作品所用到的硬件"></a>作品所用到的硬件</h1><ol><li>掌控板</li><li>掌控I/O扩展板</li><li>Speech Synthesizer Bee语音合成模块</li></ol><h1 id="App所需环境"><a href="#App所需环境" class="headerlink" title="App所需环境"></a>App所需环境</h1><ol><li><p><a href="http://app.gzjkw.net/login/">App Inventor广州服务器​</a></p></li><li><p><a href="http://iot.dfrobot.com.cn/">Easy IoT物联网平台​</a></p></li></ol><blockquote><p>注：本作品使用的MQTT模块在App Inventor平台是没有集成的，需要手动添加扩展才能使用，下载链接见文末。</p></blockquote><h1 id="创作背景"><a href="#创作背景" class="headerlink" title="创作背景"></a>创作背景</h1><p>在学校的日常生活中我们发现，当老师需要学生执行某些事情，例如需要学生去办公室一趟、让课代表催交作业时，总是需要一个学生充当“传话人”的身份。</p><p>因为老师事务繁多，不可能什么事情都亲力亲为，而中小学是不允许学生携带手机进入校园的，老师没有通讯方式可以联系到学生，就会造成老师与学生之间无法联系的情况。</p><p>于是我们想到，可以制作一款师生呼叫系统，开发一个教师手机App端与教室端，它们之间通过WiFi+MQTT进行通讯，当老师需要传达指令时，通过手机App发送到教室端显示。</p><p>当教室端接收到老师发出的指令后，会通过语音合成模块读出消息，学生看到消息后即可执行老师的指令。这个作品减少了不必要的麻烦，提高了效率。</p><h1 id="演示视频"><a href="#演示视频" class="headerlink" title="演示视频"></a>演示视频</h1><div class="bili_video"><iframe src="https://player.bilibili.com/player.html?aid=759442562&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" width="544" height="452" allowfullscreen="true"> </iframe></div><h1 id="教室端"><a href="#教室端" class="headerlink" title="教室端"></a>教室端</h1><h2 id="1-初始化"><a href="#1-初始化" class="headerlink" title="1.初始化"></a>1.初始化</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E5%88%9D%E5%A7%8B%E5%8C%96.png" alt="初始化.png"><br>设置一个名为“时间”的变量，设为1，这个在后文再详细讲。</p><p>然后初始化语音合成模块、物联网模块并连接WiFi，都是正常操作了。</p><h2 id="2-接收消息"><a href="#2-接收消息" class="headerlink" title="2.接收消息"></a>2.接收消息</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E6%8E%A5%E6%94%B6%E6%B6%88%E6%81%AF.png" alt="接收消息.png"><br>当收到消息时，先判断消息中是否包含“紧急”，若包含则板载灯亮起，并通过语音合成模块将消息读出来，重复执行直到按下A键。<br><br/></p><h2 id="3-“声音”变量"><a href="#3-“声音”变量" class="headerlink" title="3.“声音”变量"></a>3.“声音”变量</h2><p>考虑到这个作品是放在教室中使用的，如果在上课的时候收到消息并播放语音，会打断老师的讲课，所以在初始化的时候设定了一个变量“声音”为1，即声音为打开状态；</p><p>若按下B键则将“声音”设为0，即声音为关闭状态，在上文收到消息时，判断完是否为重要消息后，会判断“声音”状态是否为1，若不为1则语音合成模块不会播放消息。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E2%80%9C%E5%A3%B0%E9%9F%B3%E2%80%9D%E5%8F%98%E9%87%8F.png" alt="“声音”变量.png"></p><h2 id="4-外观设计"><a href="#4-外观设计" class="headerlink" title="4.外观设计"></a>4.外观设计</h2><p>外观设计使用软件为 LaserMaker ，通过激光切割机切割椴木板将外观烧出来。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E5%A4%96%E8%A7%82%E8%AE%BE%E8%AE%A1.png" alt="外观设计.png"><br><br/></p><h1 id="手机App端"><a href="#手机App端" class="headerlink" title="手机App端"></a>手机App端</h1><h2 id="1-新建项目"><a href="#1-新建项目" class="headerlink" title="1.新建项目"></a>1.新建项目</h2><p>打开<a href="http://app.gzjkw.net/">App Inventor</a>平台，新建一个项目：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE.jpg" alt="新建项目.jpg"></p><h2 id="2-设计UI"><a href="#2-设计UI" class="headerlink" title="2.设计UI"></a>2.设计UI</h2><p>设计好App的界面，这里不详细展开说明：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E8%AE%BE%E8%AE%A1UI.png" alt="设计UI.png"></p><h2 id="3-初始化"><a href="#3-初始化" class="headerlink" title="3.初始化"></a>3.初始化</h2><p>首先将消息列表清除，然后将连接状态设为未连接的开始状态。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E5%88%9D%E5%A7%8B%E5%8C%962.png" alt="初始化2.png"></p><h2 id="4-设定变量"><a href="#4-设定变量" class="headerlink" title="4.设定变量"></a>4.设定变量</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E8%AE%BE%E5%AE%9A%E5%8F%98%E9%87%8F1.png" alt="设定变量1.png"><br><code>班级列表</code>：设定八个班的名称，在初始化中设定这个变量为下拉框的元素，起到选择发送班级的作用：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E8%AE%BE%E5%AE%9A%E5%8F%98%E9%87%8F2.png" alt="设定变量2.png"><br><code>topic</code>：一个空变量，起到存储用户选择的班级topic的作用；</p><p><code>班级名称</code>：一个空变量，起到存储用户选择的班级的作用；<br><br/></p><h2 id="5-选择班级下拉框"><a href="#5-选择班级下拉框" class="headerlink" title="5.选择班级下拉框"></a>5.选择班级下拉框</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E9%80%89%E6%8B%A9%E7%8F%AD%E7%BA%A7%E4%B8%8B%E6%8B%89%E6%A1%86.png" alt="选择班级下拉框.png"><br>将用户选择的班级匹配成对应的topic，并将topic和班级名称相对应存入到前面提到的空变量中。<br><br/></p><h2 id="6-连接MQTT"><a href="#6-连接MQTT" class="headerlink" title="6.连接MQTT"></a>6.连接MQTT</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E8%BF%9E%E6%8E%A5MQTT1.png" alt="连接MQTT1.png"><br>当“连接”按钮被按下时，先判断“topic”变量是否为空，用户在连接前是否已选择要发送消息的班级；</p><p>如果已经选择了班级，则调用MQTT模块连接Easy Iot物联网平台：</p><p><code>ipAdreess</code>是物联网平台的地址，默认填“<strong>iot.dfrobot.com.cn</strong>”即可；<br><code>port</code>是连接的端口，填“<strong>1883</strong>”即可；<br><code>idDevice</code>填任意9位数即可；<br><code>userName</code>是你物联网平台上的<code>Iot_id(user)</code>；<br><code>password</code>是物联网平台上的<code>Iot_pwd(password)</code>，均直接复制粘贴即可。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E8%BF%9E%E6%8E%A5MQTT2.png" alt="连接MQTT2.png"><br>接着将“连接状态”变量设为1，判断是否成功订阅topic。<br><br/></p><h2 id="7-发送消息"><a href="#7-发送消息" class="headerlink" title="7.发送消息"></a>7.发送消息</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF.png" alt="发送消息.png"><br>当“发送命令”按钮被按下时，先判断连接状态是否为0（即是否为未连接状态），如值为true，则继续执行下面的代码。</p><p>判断完连接状态后，再判断用户发送的消息中是否包含屏蔽词，如果值为false，则判断文本输入框中是否有文本。</p><p>判断完上面的所有条件都为true后，则调用MQTT模块发送文本输入框中的文字到物联网平台上，再将文本输入框清空。</p><h2 id="8-显示消息"><a href="#8-显示消息" class="headerlink" title="8.显示消息"></a>8.显示消息</h2><p>成功发送消息后，将发送的消息显示在App下方的文本框中：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E6%98%BE%E7%A4%BA%E6%B6%88%E6%81%AF.png" alt="显示消息.png"></p><h2 id="9-接收消息"><a href="#9-接收消息" class="headerlink" title="9.接收消息"></a>9.接收消息</h2><p>收到消息时，将消息显示在文本框中：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E6%8E%A5%E6%94%B6%E6%B6%88%E6%81%AF2.png" alt="接收消息2.png"></p><h2 id="10-其他代码"><a href="#10-其他代码" class="headerlink" title="10.其他代码"></a>10.其他代码</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E5%85%B6%E4%BB%96%E4%BB%A3%E7%A0%81.png" alt="其他代码.png"><br>起到打开其他屏幕和清除消息列表的作用。</p><p>到这里，代码部分已经编写完了。</p><br/><h2 id="11-其他屏幕的UI设计"><a href="#11-其他屏幕的UI设计" class="headerlink" title="11.其他屏幕的UI设计"></a>11.其他屏幕的UI设计</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E5%85%B6%E4%BB%96%E5%B1%8F%E5%B9%95%E7%9A%84UI%E8%AE%BE%E8%AE%A11.png" alt="其他屏幕的UI设计1.png"><br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E5%9F%BA%E4%BA%8E%E7%89%A9%E8%81%94%E7%BD%91%E7%9A%84%E5%B8%88%E7%94%9F%E5%91%BC%E5%8F%AB%E7%B3%BB%E7%BB%9F/%E5%85%B6%E4%BB%96%E5%B1%8F%E5%B9%95%E7%9A%84UI%E8%AE%BE%E8%AE%A12.png" alt="其他屏幕的UI设计2.png"></p><h1 id="下载链接"><a href="#下载链接" class="headerlink" title="下载链接"></a>下载链接</h1><p>MQTT模块扩展：<a href="https://download.csdn.net/download/weixin_58068682/20464076">co.com.dendritas.MqttTCP.aix</a></p><h1 id="改进方向"><a href="#改进方向" class="headerlink" title="改进方向"></a>改进方向</h1><p>考虑到一些学校可能没有实现网络覆盖全校，以后可以制作一款基于LoRa方案的师生呼叫系统，实现在无网络的环境下也能进行通讯。</p><blockquote><p><strong>本文系湛江市第十七中学星火创客团队参赛项目，转载请保留声明</strong>！</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;本文系湛江市第十七中学星火创客团队参赛项目，转载请保留声明&lt;/strong&gt;！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;br/&gt;

&lt;h1 id=&quot;作品所用到的软件&quot;&gt;&lt;a href=&quot;#作品所用到的软件&quot; class=&quot;header</summary>
      
    
    
    
    <category term="IoT物联网" scheme="http://amnesia-f.github.io/categories/IoT%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
    
    <category term="物联网" scheme="http://amnesia-f.github.io/tags/%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客美化日记 || Amnesia&#39;s Blog</title>
    <link href="http://amnesia-f.github.io/posts/4e5b/"/>
    <id>http://amnesia-f.github.io/posts/4e5b/</id>
    <published>2022-02-03T02:36:34.531Z</published>
    <updated>2022-02-03T04:39:49.486Z</updated>
    
    <content type="html"><![CDATA[<h2 id="如何引入自定义的-CSS-JS-文件"><a href="#如何引入自定义的-CSS-JS-文件" class="headerlink" title="如何引入自定义的 CSS/JS 文件"></a>如何引入自定义的 CSS/JS 文件</h2><p>通过主题配置 inject 可以引入外部的自定义 CSS 文件和 JS 文件。例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/css/iconfont.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/js/wow.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="自定义字体"><a href="#自定义字体" class="headerlink" title="自定义字体"></a>自定义字体</h2><p>在<code>[Blogroot]\themes\butterfly\source\css\custom</code>路径下，新建<code>font.css</code><br>引入以下字体包并写入<code>font-family</code>：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span>&#123;</span><br><span class="line">  <span class="attribute">font-family</span>:<span class="string">&#x27;PingFang&#x27;</span> ;  <span class="comment">/* 字体名自定义即可 */</span></span><br><span class="line">  <span class="attribute">src</span>:<span class="built_in">url</span>(<span class="string">&#x27;https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/font/苹方字体.ttf&#x27;</span>); <span class="comment">/* 字体文件路径 */</span></span><br><span class="line">  <span class="attribute">font-display</span> : swap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span><span class="selector-id">#site-title</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&#x27;Candyhome&#x27;</span>, sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="魔改Copyright样式"><a href="#魔改Copyright样式" class="headerlink" title="魔改Copyright样式"></a>魔改Copyright样式</h2><p>修改<code>[Blogroot]\themes\butterfly\layout\includes\post\post-copyright.pug</code>, 直接复制以下内容替换原文件内容。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">if theme.post_copyright.enable &amp;&amp; page.copyright !== false</span><br><span class="line">  - let author = page.copyright_author ? page.copyright_author : config.author</span><br><span class="line">  - let url = page.copyright_url ? page.copyright_url : page.permalink</span><br><span class="line">  - let license = page.license ? page.license : theme.post_copyright.license</span><br><span class="line">  - let license_url = page.license_url ? page.license_url : theme.post_copyright.license_url</span><br><span class="line">  .post-copyright</span><br><span class="line">    .post-copyright__title</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        h #[=page.title]</span><br><span class="line">    .post-copyright__type</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        a(href=url_for(url))= theme.post_copyright.decode ? decodeURI(url) : url</span><br><span class="line">    .post-copyright-m</span><br><span class="line">      .post-copyright-m-info</span><br><span class="line">        .post-copyright-a</span><br><span class="line">            h 作者</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=author</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 发布于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=date(page.date, config.date_format)</span><br><span class="line">        .post-copyright-u</span><br><span class="line">            h 更新于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=date(page.updated, config.date_format)</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 许可协议</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                a.icon(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=&#x27;Creative Commons&#x27; href=&#x27;https://creativecommons.org/&#x27;)</span><br><span class="line">                  i.fab.fa-creative-commons</span><br><span class="line">                a(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=license href=url_for(license_url))=license </span><br></pre></td></tr></table></figure><p>修改<code>[Blogroot]\themes\butterfly\source\css\_layout\post.styl</code>, 直接复制以下内容，替换原文件。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">beautify</span><span class="params">()</span></span></span><br><span class="line">  headStyle(fontsize)</span><br><span class="line">    <span class="attribute">padding-left</span>: unit(fontsize + <span class="number">12</span>, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      <span class="attribute">margin-left</span>: unit((-(fontsize + <span class="number">6</span>)), <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line">      <span class="attribute">font-size</span>: unit(fontsize, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">padding-left</span>: unit(fontsize + <span class="number">18</span>, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span>,</span><br><span class="line">  <span class="selector-tag">h2</span>,</span><br><span class="line">  <span class="selector-tag">h3</span>,</span><br><span class="line">  <span class="selector-tag">h4</span>,</span><br><span class="line">  <span class="selector-tag">h5</span>,</span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">top</span>: calc(<span class="number">50%</span> - <span class="number">7px</span>)</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$title</span>-prefix-icon-color</span><br><span class="line">      <span class="attribute">content</span>: <span class="variable">$title</span>-prefix-icon</span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1</span></span><br><span class="line">      <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      &amp;:before</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span></span><br><span class="line">    headStyle(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h2</span></span><br><span class="line">    headStyle(<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h3</span></span><br><span class="line">    headStyle(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h4</span></span><br><span class="line">    headStyle(<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h5</span></span><br><span class="line">    headStyle(<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    headStyle(<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">li</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">      <span class="attribute">font-weight</span>: <span class="number">600</span></span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.05em</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">        <span class="attribute">color</span>: var(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span></span><br><span class="line">    <span class="attribute">list-style-type</span>: circle</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#article-container</span></span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">  <span class="attribute">overflow-wrap</span>: break-word</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-link-color</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">text-decoration</span>: underline</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">img</span></span><br><span class="line">    <span class="attribute">display</span>: block</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">20px</span></span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span></span><br><span class="line">    <span class="attribute">transition</span>: filter <span class="number">375ms</span> ease-in .<span class="number">2s</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">p</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">16px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">iframe</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> hexo-config(<span class="string">&#x27;anchor&#x27;</span>)</span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.headerlink</span></span><br><span class="line">      &amp;:after</span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">float</span>: right</span><br><span class="line">        <span class="attribute">color</span>: var(--headline-presudo)</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f0c1&#x27;</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">95em</span></span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        &amp;:after</span><br><span class="line">          <span class="attribute">color</span>: var(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">h1</span>,</span><br><span class="line">    <span class="selector-tag">h2</span>,</span><br><span class="line">    <span class="selector-tag">h3</span>,</span><br><span class="line">    <span class="selector-tag">h4</span>,</span><br><span class="line">    <span class="selector-tag">h5</span>,</span><br><span class="line">    <span class="selector-tag">h6</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.headerlink</span></span><br><span class="line">          &amp;:after</span><br><span class="line">            <span class="attribute">opacity</span>: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">ol</span>,</span><br><span class="line">    <span class="selector-tag">ul</span></span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">li</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> hexo-config(<span class="string">&#x27;beautify.enable&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> hexo-config(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;site&#x27;</span></span><br><span class="line">      beautify()</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> hexo-config(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;post&#x27;</span></span><br><span class="line">      &amp;<span class="selector-class">.post-content</span></span><br><span class="line">        beautify()</span><br><span class="line"></span><br><span class="line">  &gt; <span class="selector-pseudo">:last-child</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.tag_share</span></span><br><span class="line">    <span class="selector-class">.post-meta</span></span><br><span class="line">      &amp;__tag-list</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line"></span><br><span class="line">      &amp;__tags</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">12px</span></span><br><span class="line">        <span class="attribute">width</span>: fit-content</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">12px</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">          <span class="attribute">background</span>: <span class="variable">$light</span>-blue</span><br><span class="line">          <span class="attribute">color</span>: var(--white)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post_share</span></span><br><span class="line">      <span class="attribute">display</span>: inline-block</span><br><span class="line">      <span class="attribute">float</span>: right</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">width</span>: fit-content</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.social-share</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.social-share-icon</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">4px</span></span><br><span class="line">          <span class="attribute">width</span>: w = <span class="number">1.85em</span></span><br><span class="line">          <span class="attribute">height</span>: w</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">1.2em</span></span><br><span class="line">          <span class="attribute">line-height</span>: w</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">16px</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid var(--light-grey)</span><br><span class="line">    <span class="attribute">transition</span>: box-shadow .<span class="number">3s</span> ease-in-out</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span><span class="meta">!important</span></span><br><span class="line">    <span class="attribute">background-color</span>: rgb(<span class="number">239</span> <span class="number">241</span> <span class="number">243</span>)</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      <span class="attribute">background</span> var(--heo-post-blockquote-bg)</span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">right</span> -<span class="number">26px</span></span><br><span class="line">      <span class="attribute">top</span> -<span class="number">120px</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&#x27;\f25e&#x27;</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">200px</span></span><br><span class="line">      <span class="attribute">font-family</span> <span class="string">&#x27;Font Awesome 5 Brands&#x27;</span></span><br><span class="line">      <span class="attribute">opacity</span> .<span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">0</span> rgba(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">6</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">4px</span> <span class="number">0</span> rgba(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      &amp;-meta</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line"></span><br><span class="line">      &amp;-info</span><br><span class="line">        <span class="attribute">padding-left</span>: <span class="number">6px</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="attribute">text-decoration</span>: none</span><br><span class="line">          <span class="attribute">word-break</span>: break-word</span><br><span class="line"></span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">            <span class="attribute">text-decoration</span>: none</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright-cc-info</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-color;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-outdate-notice</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1.2em</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$noticeOutdate</span>-bg</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-color</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> hexo-config(<span class="string">&#x27;noticeOutdate.style&#x27;</span>) == <span class="string">&#x27;flat&#x27;</span></span><br><span class="line">      <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">2.6em</span></span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="variable">$noticeOutdate</span>-border</span><br><span class="line"></span><br><span class="line">      &amp;:before</span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50%</span></span><br><span class="line">        <span class="attribute">left</span>: .<span class="number">9em</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-border</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f071&#x27;</span></span><br><span class="line">        <span class="attribute">transform</span>: translateY(-<span class="number">50%</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.ads-wrap</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span></span><br><span class="line"><span class="selector-class">.post-copyright-m-info</span></span><br><span class="line">  <span class="selector-class">.post-copyright-a</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-c</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-u</span></span><br><span class="line">    <span class="attribute">display</span> inline-block</span><br><span class="line">    <span class="attribute">width</span> fit-content</span><br><span class="line">    <span class="attribute">padding</span> <span class="number">2px</span> <span class="number">5px</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="selector-id">#post</span></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      <span class="attribute">background-color</span> <span class="number">#07080a</span></span><br><span class="line">      <span class="attribute">text-shadow</span> <span class="number">#bfbeb8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span></span><br><span class="line">      <span class="attribute">border</span> <span class="number">1px</span> solid rgb(<span class="number">19</span> <span class="number">18</span> <span class="number">18</span> / <span class="number">35%</span>)</span><br><span class="line">      <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgb(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br><span class="line">      <span class="attribute">animation</span> flashlight <span class="number">1s</span> linear infinite alternate</span><br><span class="line">  <span class="selector-class">.post-copyright-info</span></span><br><span class="line">    <span class="attribute">color</span> <span class="number">#e0e0e4</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.post-copyright__title</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">22px</span></span><br><span class="line">  <span class="selector-class">.post-copyright__notice</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">15px</span></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span></span><br></pre></td></tr></table></figure><h2 id="添加首页弹出效果"><a href="#添加首页弹出效果" class="headerlink" title="添加首页弹出效果"></a>添加首页弹出效果</h2><p>1.安装插件，在博客根目录 [Blogroot] 下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-wowjs --save</span><br></pre></td></tr></table></figure><p>2.添加配置信息，以下为写法示例<br>在站点配置文件_config.yml 或者主题配置文件_config.butterfly.yml 中添加</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制动画开关。true是打开，false是关闭</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">10</span> <span class="comment">#过滤器优先级</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment">#移动端是否启用，默认移动端禁用</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">1s</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">100</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">2</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-widget</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line"><span class="attr">animate_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</span></span><br><span class="line"><span class="attr">wow_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</span></span><br><span class="line"><span class="attr">wow_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</span></span><br></pre></td></tr></table></figure><blockquote><p>配置详见<a href="https://akilar.top/posts/abab51cf/">Add Blog Animation – Wowjs | Akilar の糖果屋</a></p></blockquote><h2 id="Twikoo评论气泡化"><a href="#Twikoo评论气泡化" class="headerlink" title="Twikoo评论气泡化"></a>Twikoo评论气泡化</h2><p>1.新建 [Blogroot]\themes\butterfly\source\css\custom\twikoo_beautify.css,</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 自定义twikoo评论输入框高度 */</span></span><br><span class="line"><span class="selector-class">.tk-input</span><span class="selector-attr">[data-v-619b4c52]</span> <span class="selector-class">.el-textarea__inner</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">130px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 输入评论时自动隐藏输入框背景图片 */</span></span><br><span class="line"><span class="selector-class">.tk-input</span><span class="selector-attr">[data-v-619b4c52]</span> <span class="selector-class">.el-textarea__inner</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 调整楼中楼样式 ，整体左移，贴合气泡化效果 */</span></span><br><span class="line"><span class="selector-class">.tk-replies</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">70px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> + <span class="number">70px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 头像宽度调整 rem单位与全局字体大小挂钩，需配合自己情况调整大小以保证头像显示完整*/</span></span><br><span class="line"><span class="selector-class">.tk-replies</span> <span class="selector-class">.tk-avatar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-replies</span> <span class="selector-class">.tk-avatar</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 回复框左移，避免窄屏时出框 */</span></span><br><span class="line"><span class="selector-class">.tk-comments-container</span> <span class="selector-class">.tk-submit</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">70px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 评论块气泡化修改 */</span></span><br><span class="line"><span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#00a6ff</span>; <span class="comment">/*默认模式访客气泡配色*/</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>; <span class="comment">/*默认模式访客气泡字体配色*/</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: visible <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">max-height</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 修复图片出框 */</span></span><br><span class="line"><span class="selector-class">.tk-content</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 修复过长文本出框 */</span></span><br><span class="line"><span class="selector-class">.tk-content</span> pre &#123;</span><br><span class="line">  <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eeecaa</span>; <span class="comment">/*默认模式超链接配色*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">2px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#00a6ff</span>; <span class="comment">/*默认模式访客气泡小三角配色*/</span></span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ff8080</span>; <span class="comment">/*默认模式博主气泡配色*/</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>; <span class="comment">/*默认模式博主气泡字体配色*/</span></span><br><span class="line">  <span class="attribute">width</span>: fit-content;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eeecaa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">2px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#ff8080</span>; <span class="comment">/*默认模式博主气泡小三角配色*/</span></span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-row</span><span class="selector-attr">[data-v-d82ce9a0]</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-avatar</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 夜间模式配色，具体比照上方默认模式class */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dfa036</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dfa036</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">2px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 自适应内容 */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1024px</span>) &#123;</span><br><span class="line">  <span class="comment">/* 设置宽度上限，避免挤压博主头像 */</span></span><br><span class="line">  <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">75%</span>;</span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">75%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">15px</span> solid <span class="number">#ff8080</span>;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-avatar</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">75%</span> + <span class="number">70px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-row</span><span class="selector-attr">[data-v-d82ce9a0]</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">75%</span> - <span class="number">230px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">15px</span> solid <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 设备名称常态隐藏，悬停评论时显示 */</span></span><br><span class="line"><span class="selector-class">.tk-extras</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-content</span><span class="selector-pseudo">:hover</span> + <span class="selector-class">.tk-extras</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  -moz-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  -o-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  -ms-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  <span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  -webkit-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">  -moz-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">  -o-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">  -ms-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">  <span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-o-keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.修改 <code>[Blogroot]\_config.butterfly.yml</code> 的 inject 配置项</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  <span class="attr">inject:</span></span><br><span class="line">    <span class="attr">head:</span></span><br><span class="line"><span class="string">+</span>     <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom/twikoo_beautify.css&quot;</span>  <span class="string">media=&quot;defe</span></span><br></pre></td></tr></table></figure><h2 id="Twikoo评论适配暗黑模式"><a href="#Twikoo评论适配暗黑模式" class="headerlink" title="Twikoo评论适配暗黑模式"></a>Twikoo评论适配暗黑模式</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">  --heo-white: <span class="number">#fff</span>;</span><br><span class="line">  --heo-blue: <span class="number">#286dea</span>;</span><br><span class="line">  --heo-<span class="attribute">none</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">  --heo-gray: <span class="number">#999999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> &#123;</span><br><span class="line">  --heo-fontcolor: <span class="number">#000</span>;</span><br><span class="line">  --heo-<span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  --heo-maskbg: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.6</span>);</span><br><span class="line">  --heo-navbg: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.9</span>);;</span><br><span class="line">  --heo-hovertext: <span class="number">#286dea</span>;</span><br><span class="line">  --heo-ahoverbg: <span class="number">#F7F7FA</span>;</span><br><span class="line">  --heo-lighttext: <span class="number">#ef794f</span>;</span><br><span class="line">  --heo-secondtext: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.6</span>);</span><br></pre></td></tr></table></figure><h2 id="留言板信笺样式"><a href="#留言板信笺样式" class="headerlink" title="留言板信笺样式"></a>留言板信笺样式</h2><p>在 [Blogroot] 运行指令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure><p>在站点配置文件或者主题配置文件添加配置项（对，两者任一均可。但不要都写）</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># envelope_comment</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/58900a8/</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#开关</span></span><br><span class="line">  <span class="attr">cover:</span> <span class="string">https://ae01.alicdn.com/kf/U5bb04af32be544c4b41206d9a42fcacfd.jpg</span> <span class="comment">#信笺封面图</span></span><br><span class="line">  <span class="attr">message:</span> <span class="comment">#信笺内容，支持多行</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">哪怕是有什么想吃的，都可以告诉我哦~</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务！</span> <span class="comment">#信笺结束语，只能单行</span></span><br><span class="line">  <span class="attr">height:</span> <span class="comment">#调整信笺划出高度，默认1050px</span></span><br><span class="line">  <span class="attr">path:</span> <span class="comment">#【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】comments页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="渐变背景"><a href="#渐变背景" class="headerlink" title="渐变背景"></a>渐变背景</h2><p>引入以下CSS即可：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#web_bg</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-webkit-linear-gradient</span>(</span><br><span class="line">    <span class="number">0deg</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-moz-linear-gradient</span>(</span><br><span class="line">    <span class="number">0deg</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-o-linear-gradient</span>(</span><br><span class="line">    <span class="number">0deg</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">-ms-linear-gradient</span>(</span><br><span class="line">    <span class="number">0deg</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">    <span class="number">90deg</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">247</span>, <span class="number">149</span>, <span class="number">51</span>, <span class="number">0.1</span>) <span class="number">0</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">243</span>, <span class="number">112</span>, <span class="number">85</span>, <span class="number">0.1</span>) <span class="number">15%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">239</span>, <span class="number">78</span>, <span class="number">123</span>, <span class="number">0.1</span>) <span class="number">30%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">161</span>, <span class="number">102</span>, <span class="number">171</span>, <span class="number">0.1</span>) <span class="number">44%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">80</span>, <span class="number">115</span>, <span class="number">184</span>, <span class="number">0.1</span>) <span class="number">58%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">16</span>, <span class="number">152</span>, <span class="number">173</span>, <span class="number">0.1</span>) <span class="number">72%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">7</span>, <span class="number">179</span>, <span class="number">155</span>, <span class="number">0.1</span>) <span class="number">86%</span>,</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">109</span>, <span class="number">186</span>, <span class="number">130</span>, <span class="number">0.1</span>) <span class="number">100%</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="博客底部添加运行时间"><a href="#博客底部添加运行时间" class="headerlink" title="博客底部添加运行时间"></a>博客底部添加运行时间</h2><ul><li>编辑 themes\Butterfly\layout\includes\footer.pug 文件，插入以下代码：<br>注意与 if 同级</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#running-time</span><br></pre></td></tr></table></figure><ul><li>编辑 _config.butterfly.yml 文件<br>在 inject-&gt;bottom 下面添加如下内容：</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;script&gt;setInterval(()=&gt;&#123;let</span> <span class="string">create_time=Math.round(new</span> <span class="string">Date(&quot;2020-3-21-20:14:00&quot;).getTime()/1000);let</span> <span class="string">timestamp=Math.round((new</span> <span class="string">Date().getTime()+8*60*60*1000)/1000);let</span> <span class="string">second=timestamp-create_time;let</span> <span class="string">time=new</span> <span class="string">Array(0,0,0,0,0);if(second&gt;=365*24*3600)&#123;time[0]=parseInt(second/(365*24*3600));second%=365*24*3600&#125;if(second&gt;=24*3600)&#123;time[1]=parseInt(second/(24*3600));second%=24*3600&#125;if(second&gt;=3600)&#123;time[2]=parseInt(second/3600);second%=3600&#125;if(second&gt;=60)&#123;time[3]=parseInt(second/60);second%=60&#125;if(second&gt;0)&#123;time[4]=second&#125;currentTimeHtml=&#x27;小破站已经安全运行</span> <span class="string">&#x27;+time[0]+&#x27;</span> <span class="string">年</span> <span class="string">&#x27;+time[1]+&#x27;</span> <span class="string">天</span> <span class="string">&#x27;+time[2]+&#x27;</span> <span class="string">时</span> <span class="string">&#x27;+time[3]+&#x27;</span> <span class="string">分</span> <span class="string">&#x27;+time[4]+&#x27;</span> <span class="string">秒&#x27;;var</span> <span class="string">elementById=document.getElementById(&#x27;running-time&#x27;);if(elementById)&#123;elementById.innerHTML=currentTimeHtml&#125;&#125;,1000);&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="博客底部添加Github徽标"><a href="#博客底部添加Github徽标" class="headerlink" title="博客底部添加Github徽标"></a>博客底部添加Github徽标</h2><blockquote><p>详见之前的文章：<a href="http://amnesia-f.vercel.app/posts/4254dc4c/">Hexo博客技巧：添加GitHub徽标</a></p></blockquote><p>在 <code>[Blogroot]\_config.butterfly.yml</code>的footer配置项中添加徽标.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2016</span></span><br><span class="line"><span class="bullet">-</span>   <span class="attr">custom_text:</span></span><br><span class="line"><span class="string">+</span>   <span class="attr">custom_text:</span> <span class="string">&lt;p&gt;&lt;a</span> <span class="string">style=&quot;margin-inline:5px&quot;</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://hexo.io/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo&quot;</span> <span class="string">title=&quot;博客框架为Hexo&quot;&gt;&lt;/a&gt;&lt;a</span> <span class="string">style=&quot;margin-inline:5px&quot;</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://butterfly.js.org/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender&quot;</span> <span class="string">title=&quot;主题采用butterfly&quot;&gt;&lt;/a&gt;&lt;a</span> <span class="string">style=&quot;margin-inline:5px&quot;</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://www.jsdelivr.com/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr&quot;</span> <span class="string">title=&quot;本站使用JsDelivr为静态资源提供CDN加速&quot;&gt;&lt;/a&gt;&lt;a</span> <span class="string">style=&quot;margin-inline:5px&quot;</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://vercel.com/</span> <span class="string">&quot;&gt;&lt;img src=&quot;</span><span class="string">https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel&quot;</span> <span class="string">title=&quot;本站采用双线部署，默认线路托管于Vercel&quot;&gt;&lt;/a&gt;&lt;a</span> <span class="string">style=&quot;margin-inline:5px&quot;</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://vercel.com/</span> <span class="string">&quot;&gt;&lt;img src=&quot;</span><span class="string">https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&amp;logo=Codio&quot;</span> <span class="string">title=&quot;本站采用双线部署，联通线路托管于Coding&quot;&gt;&lt;/a&gt;&lt;a</span> <span class="string">style=&quot;margin-inline:5px&quot;</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://github.com/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub&quot;</span> <span class="string">title=&quot;本站项目由Gtihub托管&quot;&gt;&lt;/a&gt;&lt;a</span> <span class="string">style=&quot;margin-inline:5px&quot;</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris&quot;</span> <span class="string">title=&quot;本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可&quot;&gt;&lt;/a&gt;&lt;/p&gt;</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">false</span> <span class="comment"># Copyright of theme and framework</span></span><br><span class="line">  <span class="attr">ICP:</span> <span class="comment"># Chinese ICP License</span></span><br></pre></td></tr></table></figure><h2 id="滚动条样式"><a href="#滚动条样式" class="headerlink" title="滚动条样式"></a>滚动条样式</h2><p>引入以下CSS：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 滚动条 */</span></span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">    width: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-thumb &#123;</span><br><span class="line">    background-color: <span class="number">#e58a8a</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">-webkit-linear-gradient</span>( <span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">25%</span>, transparent <span class="number">25%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>) <span class="number">75%</span>, transparent <span class="number">75%</span>, transparent);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-corner &#123;</span><br><span class="line">    background-color: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-moz-selection &#123;</span><br><span class="line">    color: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#e58a8a</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="首页博客昵称颜色"><a href="#首页博客昵称颜色" class="headerlink" title="首页博客昵称颜色"></a>首页博客昵称颜色</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 首页中间打字效果上方 */</span></span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#site_title</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#80bdab</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 顶部导航栏 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f9f2f4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="博主昵称颜色"><a href="#博主昵称颜色" class="headerlink" title="博主昵称颜色"></a>博主昵称颜色</h2><p>也就是首页侧边栏头像下面那个昵称。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 博主昵称颜色 */</span></span><br><span class="line"><span class="selector-class">.author-info__name</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ff7242</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="鼠标样式"><a href="#鼠标样式" class="headerlink" title="鼠标样式"></a>鼠标样式</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 鼠标图标 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/Jkll8I.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*a标签*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*按钮*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightside</span>&gt;<span class="selector-tag">div</span>&gt;<span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-id">#rightside</span>&gt;<span class="selector-tag">div</span>&gt;<span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--btn-color);</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 打赏 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-reward</span> <span class="selector-class">.reward-button</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 文章标签 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.layout_post</span> <span class="selector-class">.tag_share</span> <span class="selector-class">.post-meta__tags</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 评论区 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.vcol</span> * &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span><span class="selector-attr">[data-class=v]</span> <span class="selector-class">.vicon</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v</span><span class="selector-attr">[data-class=v]</span> <span class="selector-class">.vbtn</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 回复 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.vat</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*i标签*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">i</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*up酱*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#upj</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*页脚a标签*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#footer-wrap</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*分页器*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#pagination</span> <span class="selector-class">.page-number</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">https://cdn.jsdelivr.net/gh/lete114/CDN@1.0/Use/JkuClT.png</span>), auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 分页器的三个点(...) */</span></span><br><span class="line"><span class="selector-class">.space</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#00c4b6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul><li><a href="https://akilar.top/posts/ebf20e02/">Custom Beautify | Akilar の 糖果屋</a></li><li><a href="https://akilar.top/posts/8322f8e6/">（二创）Copyright-beautify | Akilar の 糖果屋</a></li><li><a href="https://akilar.top/posts/abab51cf/">Add Blog Animation – Wowjs | Akilar の 糖果屋</a></li><li><a href="https://akilar.top/posts/d99b5f01/">twikoo 评论块气泡风格魔改美化 | Akilar の 糖果屋</a></li><li><a href="https://akilar.top/posts/e2d3c450/">信笺样式留言板 | Akilar の 糖果屋</a></li><li><a href="https://www.antmoe.com/posts/7198453/">butterfly 主题优雅更换背景 | 小康博客</a></li><li><a href="https://blog.zykjofficial.top/posts/e55bad60/">Hexo 博客搭建与美化教程 | 卓越科技的 Blog</a></li><li><a href="http://amnesia-f.vercel.app/posts/4254dc4c/">Hexo博客技巧：添加GitHub徽标</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;如何引入自定义的-CSS-JS-文件&quot;&gt;&lt;a href=&quot;#如何引入自定义的-CSS-JS-文件&quot; class=&quot;headerlink&quot; title=&quot;如何引入自定义的 CSS/JS 文件&quot;&gt;&lt;/a&gt;如何引入自定义的 CSS/JS 文件&lt;/h2&gt;&lt;p&gt;通过主题配置</summary>
      
    
    
    
    <category term="Hexo博客" scheme="http://amnesia-f.github.io/categories/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="搭建" scheme="http://amnesia-f.github.io/categories/Hexo%E5%8D%9A%E5%AE%A2/%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="Hexo" scheme="http://amnesia-f.github.io/tags/Hexo/"/>
    
    <category term="博客" scheme="http://amnesia-f.github.io/tags/%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="教程" scheme="http://amnesia-f.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客重建之路</title>
    <link href="http://amnesia-f.github.io/posts/7j9m08/"/>
    <id>http://amnesia-f.github.io/posts/7j9m08/</id>
    <published>2022-02-02T10:15:41.391Z</published>
    <updated>2022-04-09T12:38:42.524Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前段时间，因为我的电脑硬盘损坏，所有的文件丢失，且我没有对Hexo博客的文件进行备份，只在五个月前copy了所有的markdown文件到云盘上。</p><p>查阅了网上的一些教程，觉得应该是没办法救回来了，于是打算重新在本地部署这个Hexo博客。</p><p>同时也写下这篇文章记录下这个过程，并为有需要的人提供一个参考。</p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>虽然本地的文件丢失了，但是GitHub上的仓库还是在的，所以我们这里跳过新建仓库的步骤</p><p>配置本地文件、Git以及安装Hexo本地程序的步骤，请参考之前的教程：<a href="https://amnesia-f.vercel.app/posts/aea2/">Hexo 搭建个人博客：从开始到放弃</a></p><p>当你进行到这一步，访问 <a href="http://localhost:4000/">http://localhost:4000</a> ，能成功出现 Hexo 默认页面时，即可进入下一阶段。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Hexo%E5%8D%9A%E5%AE%A2%E9%87%8D%E5%BB%BA%E4%B9%8B%E8%B7%AF/%E5%87%86%E5%A4%87.png" alt="准备.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Hexo%E5%8D%9A%E5%AE%A2%E9%87%8D%E5%BB%BA%E4%B9%8B%E8%B7%AF/%E6%9C%AC%E5%9C%B0%E7%95%8C%E9%9D%A2.png" alt="本地界面.png"></p><h2 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h2><p>执行以下指令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly   # 安装主题</span><br><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save   # 安装依赖库</span><br></pre></td></tr></table></figure><h2 id="创建Page"><a href="#创建Page" class="headerlink" title="创建Page"></a>创建Page</h2><p>执行以下指令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br><span class="line">hexo new page categories</span><br><span class="line">hexo new page link</span><br><span class="line">hexo new page history</span><br><span class="line">hexo new page about</span><br><span class="line">hexo new page music</span><br><span class="line">hexo new page Demo</span><br><span class="line">hexo new page message</span><br><span class="line">hexo new page talking</span><br><span class="line">hexo new page Gallery</span><br><span class="line">hexo new page HTML</span><br></pre></td></tr></table></figure><blockquote><p>记得在<code>tags</code>、<code>categories</code>以及<code>link</code>的md文件中的<code>Page Front-matter</code>中添加type参数</p></blockquote><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><p>执行以下指令安装插件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save  # 本地搜索系统</span><br><span class="line">npm install hexo-wordcount --save  # 字数统计</span><br><span class="line">npm install hexo-generator-feed --save  # 生成RSS</span><br><span class="line">npm install hexo-abbrlink --save  # 自定义文章链接</span><br><span class="line">npm install --save hexo-tag-aplayer  # 全局音乐</span><br><span class="line">npm install hexo-butterfly-douban --save  # 豆瓣页面</span><br><span class="line">npm install --save hexo-blog-encrypt  # 为文章添加密码</span><br><span class="line">npm install hexo-deployer-git --save  # 提交至Github</span><br><span class="line">npm install --save hexo-tag-bilibili  # 播放B站视频</span><br><span class="line">npm install hexo-butterfly-envelope --save  # 留言板信笺样式</span><br><span class="line">npm install hexo-butterfly-wowjs --save  # 动画效果</span><br><span class="line">npm install hexo-butterfly-artitalk  # Artitalk说说界面</span><br><span class="line">npm i hexo-offline-popup --save  # 更新提示</span><br><span class="line">npm i hexo-history-calendar --save  # 侧边栏历史上的今天</span><br><span class="line">npm i hexo-swiper-bar --save  # 置顶文章轮播图</span><br><span class="line">npm i hexo-butterfly-article-double-row --save  # 首页双栏布局</span><br><span class="line">npm i hexo-githubcalendar --save  # Github上传记录</span><br></pre></td></tr></table></figure><p>以上为我自用的Hexo插件，仅供参考，有时间我会单独写一期推荐插件的文章。</p><h2 id="更改配置文件"><a href="#更改配置文件" class="headerlink" title="更改配置文件"></a>更改配置文件</h2><blockquote><p>以下配置仅供个人记录，请勿照搬。</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># _config.yml </span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:Amnesia-f/amnesia-f.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Feed Atom</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">    <span class="attr">type:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">atom</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">rss2</span></span><br><span class="line">    <span class="attr">path:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">atom.xml</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">rss2.xml</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc16</span>  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></span><br><span class="line">  <span class="attr">drafts:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">bilibili:</span></span><br><span class="line">  <span class="attr">width:</span> <span class="number">452</span></span><br><span class="line">  <span class="attr">height:</span> <span class="number">544</span></span><br><span class="line"></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br><span class="line"></span><br><span class="line"><span class="attr">butterfly_article_double_row:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">douban:</span></span><br><span class="line">  <span class="attr">user:</span> <span class="number">231261343</span></span><br><span class="line">  <span class="attr">builtin:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">movie:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">&#x27;电影&#x27;</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">&#x27;那些年我看过的电影&#x27;</span></span><br><span class="line">    <span class="attr">meta:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">aside:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">10000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Artitalk</span></span><br><span class="line"><span class="comment"># see https://artitalk.js.org/</span></span><br><span class="line"><span class="attr">artitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">2ghcxsg5G9lv72C0UBKRxl4d-MdYXbMMI</span></span><br><span class="line">  <span class="attr">appKey:</span> <span class="string">whJdQdLS53l7ytoxW6TPEyxJ</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">talking</span></span><br><span class="line">  <span class="attr">option:</span> </span><br><span class="line">    <span class="attr">lang:</span> <span class="string">zh</span></span><br><span class="line">    <span class="attr">pageSize:</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="attr">swiper:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">temple_html:</span> <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;height: auto;width: 100%&quot;&gt;&lt;div class=&quot;blog-slider swiper-container-fade swiper-container-horizontal&quot; id=&quot;swiper_container&quot;&gt;$&#123;temple_html_item&#125;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  <span class="attr">plus_style:</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">history_calendar:</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">4</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">class</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">sticky_layout</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">temple_html:</span> <span class="string">&#x27;&lt;div class=&quot;card-widget card-history&quot;&gt;&lt;div class=&quot;card-content&quot;&gt;&lt;div class=&quot;item-headline&quot;&gt;&lt;i class=&quot;fas fa-clock fa-spin&quot;&gt;&lt;/i&gt;&lt;span&gt;那年今日&lt;/span&gt;&lt;/div&gt;&lt;div id=&quot;history-baidu&quot; style=&quot;height: 100px;overflow: hidden&quot;&gt;&lt;div class=&quot;history_swiper-container&quot; id=&quot;history-container&quot; style=&quot;width: 100%;height: 100%&quot;&gt;&lt;div class=&quot;swiper-wrapper&quot; id=&quot;history_container_wrapper&quot; style=&quot;height:20px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="attr">encrypt:</span> <span class="comment"># hexo-blog-encrypt</span></span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">有东西被加密了,</span> <span class="string">请输入密码查看.</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">请输入密码获取文章内容！</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># envelope_comment</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/58900a8/</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#开关</span></span><br><span class="line">  <span class="attr">cover:</span> <span class="string">https://ae01.alicdn.com/kf/U5bb04af32be544c4b41206d9a42fcacfd.jpg</span> <span class="comment">#信笺封面图</span></span><br><span class="line">  <span class="attr">message:</span> <span class="comment">#信笺内容，支持多行</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">哪怕是有什么想吃的，都可以告诉我哦~</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务！</span> <span class="comment">#信笺结束语，只能单行</span></span><br><span class="line">  <span class="attr">height:</span> <span class="comment">#调整信笺划出高度，默认1050px</span></span><br><span class="line">  <span class="attr">path:</span> <span class="comment">#【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】comments页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制动画开关。true是打开，false是关闭</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">10</span> <span class="comment">#过滤器优先级</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment">#移动端是否启用，默认移动端禁用</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="string">2s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">500ms</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">80</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-widget</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line"><span class="attr">animate_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</span></span><br><span class="line"><span class="attr">wow_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</span></span><br><span class="line"><span class="attr">wow_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ice Kano Plus_in</span></span><br><span class="line"><span class="comment"># Hexo Github Canlendar</span></span><br><span class="line"><span class="comment"># Author: Ice Kano</span></span><br><span class="line"><span class="comment"># Modify: Lete乐特</span></span><br><span class="line"><span class="attr">githubcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">Amnesia-f</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">githubcalendar_html:</span> <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height:auto;padding:10px;&quot;&gt;&lt;div id=&quot;github_loading&quot; style=&quot;width:10%;height:100%;margin:0 auto;display: block&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;  viewBox=&quot;0 0 50 50&quot; style=&quot;enable-background:new 0 0 50 50&quot; xml:space=&quot;preserve&quot;&gt;&lt;path fill=&quot;#d0d0d0&quot; d=&quot;M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z&quot; transform=&quot;rotate(275.098 25 25)&quot;&gt;&lt;animateTransform attributeType=&quot;xml&quot; attributeName=&quot;transform&quot; type=&quot;rotate&quot; from=&quot;0 25 25&quot; to=&quot;360 25 25&quot; dur=&quot;0.6s&quot; repeatCount=&quot;indefinite&quot;&gt;&lt;/animateTransform&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;div id=&quot;github_container&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  <span class="attr">pc_minheight:</span> <span class="string">280px</span></span><br><span class="line">  <span class="attr">mobile_minheight:</span> <span class="string">0px</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot;</span></span><br><span class="line">  <span class="attr">api:</span> <span class="string">https://python-github-calendar-api-eight.vercel.app/api/?Amnesia-f</span></span><br><span class="line">  <span class="comment"># api: https://python-gitee-calendar-api.vercel.app/api</span></span><br><span class="line">  <span class="attr">calendar_js:</span> <span class="string">https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js</span></span><br><span class="line">  <span class="attr">plus_style:</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># offline config passed to sw-precache.</span></span><br><span class="line"><span class="attr">service_worker:</span></span><br><span class="line">  <span class="attr">maximumFileSizeToCacheInBytes:</span> <span class="number">5242880</span></span><br><span class="line">  <span class="attr">staticFileGlobs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">public/**/*.&#123;js,html,css,png,jpg,gif,svg,eot,ttf,woff,woff2&#125;</span></span><br><span class="line">  <span class="attr">stripPrefix:</span> <span class="string">public</span></span><br><span class="line">  <span class="attr">verbose:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">runtimeCaching:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/*</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/css/pool.min.css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/*</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">https://butterfly.lete114.top/css/Lete.css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/*</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">https://cdn.jsdelivr.net/gh/sviptzk/StaticFile_HEXO@latest/butterfly/js/pool.min.js</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/*</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">https://butterfly.lete114.top/js/Lete.js</span></span><br></pre></td></tr></table></figure><h2 id="复制文章"><a href="#复制文章" class="headerlink" title="复制文章"></a>复制文章</h2><p>最后将你的markdown文件全部复制进<code>[Blogroot]\source\_posts</code>即可。</p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>三连走起：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://butterfly.js.org/">Butterfly 官方文档</a></p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><blockquote><p>不要因为工程量大，就放弃去做一件你应该做的事！</p></blockquote><p>这是我很喜欢的一句话，适用于绝大多数时候。</p><blockquote><p>美化的尽头是默认。</p></blockquote><p>现在也不喜欢那么多花里胡哨的样式了，能用就行。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;前段时间，因为我的电脑硬盘损坏，所有的文件丢失，且我没有对Hexo博客的文件进行备份，只在五个月前copy了所有的markdown文件到云盘</summary>
      
    
    
    
    <category term="Hexo博客" scheme="http://amnesia-f.github.io/categories/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="搭建" scheme="http://amnesia-f.github.io/categories/Hexo%E5%8D%9A%E5%AE%A2/%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="Hexo" scheme="http://amnesia-f.github.io/tags/Hexo/"/>
    
    <category term="博客" scheme="http://amnesia-f.github.io/tags/%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="教程" scheme="http://amnesia-f.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>部署Twikoo评论系统及其邮件推送(Vercel)</title>
    <link href="http://amnesia-f.github.io/posts/8b3/"/>
    <id>http://amnesia-f.github.io/posts/8b3/</id>
    <published>2022-02-01T02:36:28.000Z</published>
    <updated>2022-02-01T09:46:55.533Z</updated>
    
    <content type="html"><![CDATA[<p>详细介绍了使用Vercel+MongoDB方案搭建Twikoo评论系统的过程，并实现邮件自动通知回复信息。</p><span id="more"></span><h2 id="配置数据库"><a href="#配置数据库" class="headerlink" title="配置数据库"></a>配置数据库</h2><h3 id="申请MongoDB账号"><a href="#申请MongoDB账号" class="headerlink" title="申请MongoDB账号"></a>申请MongoDB账号</h3><p>进入<a href="https://www.mongodb.com/cloud/atlas/register">MongoDB</a>注册一个账号。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E7%94%B3%E8%AF%B7%E8%B4%A6%E5%8F%B7.png" alt="申请账号.png"></p><h3 id="创建MongoDB数据库"><a href="#创建MongoDB数据库" class="headerlink" title="创建MongoDB数据库"></a>创建MongoDB数据库</h3><p>申请完毕后进入以下界面，选择最右边的免费共享数据库。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E9%80%89%E6%8B%A9%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="选择数据库.png"></p><p>进入创建页面后，其他选项及配置保持默认，区域选择推荐<code>AWS / N. Virginia (us-east-1)</code><br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E5%88%9B%E5%BB%BA%E9%A1%B5%E9%9D%A2.png" alt="创建页面.png"><br>区域选择完毕后，拉到页面底部点击<code>Create</code>进入下一步。</p><h3 id="配置MongoDB数据库"><a href="#配置MongoDB数据库" class="headerlink" title="配置MongoDB数据库"></a>配置MongoDB数据库</h3><p>ip设置为<code>0.0.0.0/0</code>即可：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E9%85%8D%E7%BD%AEip.png" alt="配置ip.png"></p><p>创建数据库用户，请记住这里的password，后面步骤需要使用到。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7.png" alt="配置用户.png"></p><p>回到Clusters页面，点击<code>CONNECT</code><br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/CONNECT1.png" alt="CONNECT1.png"></p><p>选择第二项：<code>Connect your applicalion</code>进入<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/CONNECT2.png" alt="CONNECT2.png"></p><p>进入以下页面，请记录你的数据库连接字符串，并将其中的<code>&lt;password&gt;</code>替换为<code>你创建的数据库用户的密码</code>。<br>这项数据库连接字符串将会在部署twikoo时使用到，请保存备用。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/CONNECT3.png" alt="CONNECT3.png"></p><h2 id="部署到Vercel"><a href="#部署到Vercel" class="headerlink" title="部署到Vercel"></a>部署到Vercel</h2><h3 id="申请账号"><a href="#申请账号" class="headerlink" title="申请账号"></a>申请账号</h3><p>申请一个<a href="https://vercel.com/signup">Vercel</a>账号，如已有Vercel账号可跳过这步。</p><h3 id="部署仓库"><a href="#部署仓库" class="headerlink" title="部署仓库"></a>部署仓库</h3><p>点击以下链接将Twikoo一键部署到Vercel：<br><a href="https://vercel.com/import/project?template=https://github.com/imaegoo/twikoo/tree/dev/src/vercel-min">https://vercel.com/import/project?template=https://github.com/imaegoo/twikoo/tree/dev/src/vercel-min</a></p><p>在<code>REPOSITORY NAME</code>处随意输入一个仓库名字即可。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93.png" alt="创建仓库.png"><br>点击<code>Create</code>进入下一步。<br>等待Import进度跑完后，点击<code>Visit</code>进入仓库。</p><h3 id="新建环境变量"><a href="#新建环境变量" class="headerlink" title="新建环境变量"></a>新建环境变量</h3><p>进入<code>Settings - Environment Variables</code>页面。<br>新建一个NAME为<code>MONGODB_URI</code>;VALUE为你在前面记录到的<code>数据库连接字符串</code>的环境变量。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/Setting.png" alt="Setting.png"></p><h3 id="再次部署"><a href="#再次部署" class="headerlink" title="再次部署"></a>再次部署</h3><p>进入<code>Deployments</code>界面，点击右边的竖三点，点击<code>Redeploy</code><br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/redeploy.png" alt="redeploy.png"></p><h3 id="检验部署结果"><a href="#检验部署结果" class="headerlink" title="检验部署结果"></a>检验部署结果</h3><p>回到<code>Overview</code>，点击Domains下方的链接，如果环境配置正确，可以看到 “Twikoo 云函数运行正常” 等字样。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/overview.png" alt="overview.png"></p><blockquote><p><code>Domains下方的链接</code>即为后面需要使用到的环境id。</p></blockquote><p>至此，Twikoo评论系统部署完成。</p><h2 id="实现邮件通知"><a href="#实现邮件通知" class="headerlink" title="实现邮件通知"></a>实现邮件通知</h2><h3 id="开通POP3-SMTP服务"><a href="#开通POP3-SMTP服务" class="headerlink" title="开通POP3/SMTP服务"></a>开通POP3/SMTP服务</h3><blockquote><p>以下教程以QQ邮箱为例，其他邮箱可自行摸索，原理大同小异。</p></blockquote><p>前往你的邮件服务提供商，开通POP3/SMTP服务服务。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E5%BC%80%E9%80%9A%E6%9C%8D%E5%8A%A1.png" alt="开通服务.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E9%AA%8C%E8%AF%81%E5%AF%86%E4%BF%9D.png" alt="验证密保.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E6%8E%88%E6%9D%83%E7%A0%81.png" alt="授权码.png"></p><p>这里的授权码后面会用到，记得留存。</p><h3 id="配置Twikoo"><a href="#配置Twikoo" class="headerlink" title="配置Twikoo"></a>配置Twikoo</h3><h4 id="启用Twikoo"><a href="#启用Twikoo" class="headerlink" title="启用Twikoo"></a>启用Twikoo</h4><blockquote><p>此部分教程以Butterfly主题为例说明，其他主题可参阅对应的使用文档。</p></blockquote><p>打开<code>[Blogroot]\_config.butterfly.yml</code>主题配置文件，</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">twikoo:</span></span><br><span class="line">  <span class="attr">envId:</span> </span><br></pre></td></tr></table></figure><p>填写环境id，再在<code>comments-use</code>中填写<code>Twikoo</code>即可。<br>部署到GitHub上后，进入一个有评论区的页面，点击输入框下的齿轮状按钮，设置你的管理密码。</p><h4 id="配置邮件通知服务"><a href="#配置邮件通知服务" class="headerlink" title="配置邮件通知服务"></a>配置邮件通知服务</h4><p>进入<code>配置管理 - 邮件通知</code>，按照下方提供的标准填写即可。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SENDER_EMAIL: &lt;你的QQ邮箱地址&gt;</span><br><span class="line">SMTP_SERVICE: &lt;你的邮件服务提供商&gt;</span><br><span class="line">SMTP_HOST: &lt;自定义 SMTP 服务器地址&gt;</span><br><span class="line">SMTP_PORT: &lt;自定义 SMTP 端口&gt;</span><br><span class="line">SMTP_SECURE: &lt;自定义 SMTP 是否使用 TLS&gt;</span><br><span class="line">SMTP_USER: &lt;邮件通知邮箱用户名&gt;(需与SENDER_EMAIL一致)</span><br><span class="line">SMTP_PASS: &lt;邮件通知邮箱密码&gt;(授权码)</span><br></pre></td></tr></table></figure><p>可参考我的配置：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E9%85%8D%E7%BD%AE1.png" alt="配置1.png"><br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E9%85%8D%E7%BD%AE2.png" alt="配置2.png"></p><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>拉到最下方点击保存后，打开<code>邮件通知测试</code>，输入你的邮箱，点击<code>发送测试邮件</code>，如果能成功收到邮件即说明邮件通知服务设置成功！<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%83%A8%E7%BD%B2Twikoo%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%8F%8A%E5%85%B6%E9%82%AE%E4%BB%B6%E6%8E%A8%E9%80%81(Vercel)/%E6%B5%8B%E8%AF%95%E6%88%90%E5%8A%9F.png" alt="测试成功.png"></p><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ul><li>Twikoo中文文档：<a href="https://twikoo.js.org/">https://twikoo.js.org/</a></li><li>Twikoo Vercel 部署教程：<a href="https://www.bilibili.com/video/BV1Fh411e7ZH">https://www.bilibili.com/video/BV1Fh411e7ZH</a></li><li>bufferfly主题的应用和即时推送：<a href="https://www.keyiqingxin.cn/317ea436/">https://www.keyiqingxin.cn/317ea436/</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;详细介绍了使用Vercel+MongoDB方案搭建Twikoo评论系统的过程，并实现邮件自动通知回复信息。&lt;/p&gt;</summary>
    
    
    
    <category term="Hexo博客" scheme="http://amnesia-f.github.io/categories/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="技巧" scheme="http://amnesia-f.github.io/categories/Hexo%E5%8D%9A%E5%AE%A2/%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="Hexo" scheme="http://amnesia-f.github.io/tags/Hexo/"/>
    
    <category term="博客" scheme="http://amnesia-f.github.io/tags/%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="技巧" scheme="http://amnesia-f.github.io/tags/%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>Day9：智能城市垃圾箱管理平台</title>
    <link href="http://amnesia-f.github.io/posts/6c20/"/>
    <id>http://amnesia-f.github.io/posts/6c20/</id>
    <published>2021-08-12T10:33:16.000Z</published>
    <updated>2022-01-30T09:49:57.066Z</updated>
    
    <content type="html"><![CDATA[<p>介绍了如何通过掌控板将数据上报至阿里云平台，同时支持在阿里云物联网平台上控制掌控板的灯光亮灭与否。</p><span id="more"></span><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>关于阿里云物联网平台的注册与使用，我曾写过一篇帖子，这里放出来供大家参考：</p><ul><li><a href="https://mc.dfrobot.com.cn/thread-308336-1-1.html">掌控板与阿里云IoT通信：控制板载灯亮灭</a></li></ul><p>其中控制板载灯的部分与本文下面的控制灯开关部分原理相同，但是代码做了改进，使得更简洁了。</p><h1 id="设置变量"><a href="#设置变量" class="headerlink" title="设置变量"></a>设置变量</h1><p>我们需要提前在阿里云物联网平台上给产品定义功能：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day10%EF%BC%9A%E6%99%BA%E8%83%BD%E5%9F%8E%E5%B8%82%E5%9E%83%E5%9C%BE%E7%AE%B1%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/FireShot%20-%20%E7%89%A9%E8%81%94%E7%BD%91%E5%B9%B3%E5%8F%B0.png" alt="物联网平台"></p><p>然后在程序中，将其中的标识符赋值给变量：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day10%EF%BC%9A%E6%99%BA%E8%83%BD%E5%9F%8E%E5%B8%82%E5%9E%83%E5%9C%BE%E7%AE%B1%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F.png" alt="设置变量"></p><h1 id="连接平台"><a href="#连接平台" class="headerlink" title="连接平台"></a>连接平台</h1><p>先连接上WiFi，接着连接MQTT：</p><blockquote><p>注意：很多同学都会犯一个错误，设置好MQTT参数后没有发起连接，导致程序无法正常运行。</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day10%EF%BC%9A%E6%99%BA%E8%83%BD%E5%9F%8E%E5%B8%82%E5%9E%83%E5%9C%BE%E7%AE%B1%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/%E8%BF%9E%E6%8E%A5%E5%B9%B3%E5%8F%B0.png" alt="连接平台"></p><h1 id="发送程序"><a href="#发送程序" class="headerlink" title="发送程序"></a>发送程序</h1><p>每隔半分钟发送一次垃圾箱的实时温湿度到阿里云平台上：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day10%EF%BC%9A%E6%99%BA%E8%83%BD%E5%9F%8E%E5%B8%82%E5%9E%83%E5%9C%BE%E7%AE%B1%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE.png" alt="发送程序"></p><h1 id="接收程序"><a href="#接收程序" class="headerlink" title="接收程序"></a>接收程序</h1><p>这段代码的目的是为了能在web平台上控制垃圾箱的灯开关与否。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day10%EF%BC%9A%E6%99%BA%E8%83%BD%E5%9F%8E%E5%B8%82%E5%9E%83%E5%9C%BE%E7%AE%B1%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/%E6%8E%A5%E6%94%B6%E6%95%B0%E6%8D%AE.png" alt="接收程序"></p><h1 id="Web设计"><a href="#Web设计" class="headerlink" title="Web设计"></a>Web设计</h1><h2 id="UI设计"><a href="#UI设计" class="headerlink" title="UI设计"></a>UI设计</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day10%EF%BC%9A%E6%99%BA%E8%83%BD%E5%9F%8E%E5%B8%82%E5%9E%83%E5%9C%BE%E7%AE%B1%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/web%E5%BA%94%E7%94%A8%E5%B1%95%E7%A4%BA.png" alt="web应用展示.png"></p><ul><li><p>地图：显示设备位置；</p></li><li><p>卡片：显示设备当前温湿度；</p></li><li><p>实时曲线图：显示设备温湿度变化曲线；</p></li><li><p>仪表盘：显示设备装载率； </p></li><li><p>开关：控制设备灯的开关与否。</p></li></ul><blockquote><p>关于配置数据流的教程，见我在前言中提到的帖子：<a href="https://mc.dfrobot.com.cn/thread-308336-1-1.html">https://mc.dfrobot.com.cn/thread-308336-1-1.html</a></p></blockquote><h1 id="交互设计"><a href="#交互设计" class="headerlink" title="交互设计"></a>交互设计</h1><p>上文提到的在web端实现控制垃圾箱灯的开关与否，就是与交互设计有关。</p><p>首先我们在界面上拖出一个开关，然后点中这个开关：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day10%EF%BC%9A%E6%99%BA%E8%83%BD%E5%9F%8E%E5%B8%82%E5%9E%83%E5%9C%BE%E7%AE%B1%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/%E4%BA%A4%E4%BA%921.png" alt="交互1"><br>设置事件为<code>点击</code>，动作为<code>设置设备属性</code>，然后点击<code>配置设备</code>按钮：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day10%EF%BC%9A%E6%99%BA%E8%83%BD%E5%9F%8E%E5%B8%82%E5%9E%83%E5%9C%BE%E7%AE%B1%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0/%E4%BA%A4%E4%BA%922.png" alt="交互2"><br>选择好产品和设备后，属性选择灯的布尔值，然后点击<code>参数来源</code>，选择<code>组件值</code>，再选择到刚才拉出来的这个开关名称，就可以啦。</p><blockquote><p>详细教程见阿里云平台文档：<a href="https://help.aliyun.com/document_detail/125144.html">https://help.aliyun.com/document_detail/125144.html</a></p></blockquote><h1 id="阿里云平台展示与功能演示"><a href="#阿里云平台展示与功能演示" class="headerlink" title="阿里云平台展示与功能演示"></a>阿里云平台展示与功能演示</h1><p>详见《掌控板数据上报阿里云平台》<br><a href="http://www.bilibili.com/video/BV1vw41197Xt">http://www.bilibili.com/video/BV1vw41197Xt</a></p><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1>]]></content>
    
    
    <summary type="html">&lt;p&gt;介绍了如何通过掌控板将数据上报至阿里云平台，同时支持在阿里云物联网平台上控制掌控板的灯光亮灭与否。&lt;/p&gt;</summary>
    
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="物联网" scheme="http://amnesia-f.github.io/tags/%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>Day8：一款无线抢答系统的实现过程</title>
    <link href="http://amnesia-f.github.io/posts/d9a3/"/>
    <id>http://amnesia-f.github.io/posts/d9a3/</id>
    <published>2021-08-08T04:20:16.000Z</published>
    <updated>2022-02-01T09:48:03.906Z</updated>
    
    <content type="html"><![CDATA[<p>基于LoRa+蓝牙+掌控板+AppInventor方案实现的一款无线抢答系统，通过手机App下达答题命令到裁判端，再由裁判端分发命令并捕捉抢答信息。</p><span id="more"></span><h1 id="演示视频"><a href="#演示视频" class="headerlink" title="演示视频"></a>演示视频</h1><p>详见：《基于LoRa与蓝牙技术的无线抢答器》<a href="http://www.bilibili.com/video/BV1jw41197UH">http://www.bilibili.com/video/BV1jw41197UH</a></p><h1 id="设计思路"><a href="#设计思路" class="headerlink" title="设计思路"></a>设计思路</h1><p>详见 <a href="http://amnesia-f.github.io/posts/997c/">Day7：一款无线抢答系统的设计思路</a></p><h1 id="目标实现"><a href="#目标实现" class="headerlink" title="目标实现"></a>目标实现</h1><ul><li><p>主持人App端可以通过蓝牙与掌控板通讯；</p></li><li><p>主持人掌控板端可以通过LoRa发出指令；</p></li><li><p>两个选手端可以通过LoRa发送消息确定抢答方；</p></li><li><p>选手端自动判断选手回答正确与否；</p></li><li><p>选手端自动统计选手得分；</p></li></ul><h1 id="消息定义"><a href="#消息定义" class="headerlink" title="消息定义"></a>消息定义</h1><p>因为使用了LoRa与蓝牙进行通讯，所以我们需要定义消息，用来判断程序该做什么：</p><h2 id="蓝牙接收"><a href="#蓝牙接收" class="headerlink" title="蓝牙接收"></a>蓝牙接收</h2><p>s(115)开始抢答 发送C</p><p>t(116)下一题 发送D</p><p>A(65) 发送正确选项 发送A</p><p>B(66) 发送正确选项 发送B</p><h2 id="LoRa接收"><a href="#LoRa接收" class="headerlink" title="LoRa接收"></a>LoRa接收</h2><p>1(49)选手回答正确</p><p>0(48)选手回答错误</p><p>a(97)选手1抢答成功</p><p>b(98)选手2抢答成功</p><h1 id="主持人App端"><a href="#主持人App端" class="headerlink" title="主持人App端"></a>主持人App端</h1><h2 id="UI设计"><a href="#UI设计" class="headerlink" title="UI设计"></a>UI设计</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/ui.png" alt="ui.png"></p><h2 id="程序编写"><a href="#程序编写" class="headerlink" title="程序编写"></a>程序编写</h2><h3 id="连接蓝牙"><a href="#连接蓝牙" class="headerlink" title="连接蓝牙"></a>连接蓝牙</h3><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/%E8%93%9D%E7%89%99%E8%BF%9E%E6%8E%A5.png" alt="蓝牙连接.png"><br>其中唯一编号为：<code>00001101-0000-1000-8000-00805F9B34FB</code></p><h3 id="发送指令"><a href="#发送指令" class="headerlink" title="发送指令"></a>发送指令</h3><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/%E8%93%9D%E7%89%99%E5%8F%91%E9%80%81.png" alt="蓝牙发送.png"><br>App端的程序十分简单，只需要连接上蓝牙后发送我们前面定义好的消息即可。</p><h1 id="主持人掌控板端"><a href="#主持人掌控板端" class="headerlink" title="主持人掌控板端"></a>主持人掌控板端</h1><h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/%E5%88%9D%E5%A7%8B%E5%8C%96.png" alt="初始化.png"><br>首先初始化<code>蓝牙</code>，<code>LoRa</code>与<code>语音合成模块</code></p><h2 id="接收正确选项"><a href="#接收正确选项" class="headerlink" title="接收正确选项"></a>接收正确选项</h2><p>在主持人手机App端，主持人会先发送正确选项到掌控板上，当掌控板上接收到正确选项后，开始抢答指令才会生效：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/%E6%8E%A5%E6%94%B6%E6%AD%A3%E7%A1%AE%E9%80%89%E9%A1%B9.png" alt="接收正确选项.png"><br>掌控板蓝牙接收到<code>A</code>或<code>B</code>后，便开始执行<code>清空变量</code>，<code>发送程序</code>与<code>接收程序</code>三个函数，接下来我们一个一个来慢慢讲。</p><p>这里还有一个判断，如果<code>判断模式</code>这个变量等于0的话就一直在屏幕上显示<code>等待出题中...</code>字样，因为我们上面初始化的时候已经将这个变量设为0，所以现在会一直显示。</p><h2 id="函数：清空变量"><a href="#函数：清空变量" class="headerlink" title="函数：清空变量"></a>函数：清空变量</h2><p>啊这…😅这个没有什么好讲的了，就是将所有的变量设为原始值，这样做的目的是防止第二次执行程序时变量还为第一次的值，影响程序正常运行。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/%E6%B8%85%E7%A9%BA%E5%8F%98%E9%87%8F.png" alt="清空变量.png"></p><h2 id="函数：发送程序"><a href="#函数：发送程序" class="headerlink" title="函数：发送程序"></a>函数：发送程序</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/%E5%8F%91%E9%80%81%E7%A8%8B%E5%BA%8F.png" alt="发送程序"><br>首先通过LoRa发送正确选项给选手端，接着进入一个循环中，重复读取蓝牙数据，</p><p>当掌控板接收到App端发出的<code>开始抢答</code>指令，同时也发送这个消息到选手端，然后跳出循环。</p><h2 id="函数：接收程序"><a href="#函数：接收程序" class="headerlink" title="函数：接收程序"></a>函数：接收程序</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/%E6%8E%A5%E6%94%B6%E7%A8%8B%E5%BA%8F.png" alt="接收程序"><br>和上面发送程序的函数一个套路，进入一个循环，同时接收蓝牙及LoRa的消息，</p><p>当选手端完成答题发送<code>1</code>或者<code>0</code>后；亦或者App端发送<code>下一题</code>指令后，才会跳出循环。</p><p>接着判断收到的消息，如果LoRa收到选手端发来的<code>1</code>，代表选手回答正确；反之，如果收到的是<code>0</code>，代表选手回答错误，进入<code>完成答题</code>函数。</p><p>如果接收到蓝牙发来的<code>t</code>，代表无人抢答*，主持人手动进入下一题。</p><blockquote><p>*因为考虑到一种情况，即发出开始抢答指令后，可能会出现无人抢答的局面，这时程序也无法继续运行下去，所以我们设定了可以由主持人通过App端手动进入下一题。</p></blockquote><h2 id="函数：完成答题"><a href="#函数：完成答题" class="headerlink" title="函数：完成答题"></a>函数：完成答题</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/%E5%AE%8C%E6%88%90%E7%AD%94%E9%A2%98.png" alt="完成答题"><br>同时显示正确选项与选手的回答情况在掌控板屏幕上。</p><h2 id="函数：下一题程序"><a href="#函数：下一题程序" class="headerlink" title="函数：下一题程序"></a>函数：下一题程序</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/%E4%B8%8B%E4%B8%80%E9%A2%98%E7%A8%8B%E5%BA%8F.png" alt="下一题程序"><br>很简单，就是发送下一题指令给选手端。</p><h1 id="选手端"><a href="#选手端" class="headerlink" title="选手端"></a>选手端</h1><h2 id="整体代码"><a href="#整体代码" class="headerlink" title="整体代码"></a>整体代码</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day8%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/screenshots-%E6%8A%A2%E7%AD%94%E7%AB%AF.png" alt="screenshots-抢答端"></p><blockquote><p>这部分代码由岭南师范学院的吴兆明老师编写，我在其代码上加了一点小注释方便理解，这里不进行详细阐述了。</p></blockquote><h1 id="改进方向"><a href="#改进方向" class="headerlink" title="改进方向"></a>改进方向</h1><ul><li><input disabled="" type="checkbox"> 选手端抢答后反馈选手编号到主持人掌控板端；<pre><code>(本来测试的时候一点问题没有，一录视频这个功能就出bug了，无奈只能阉割掉...)</code></pre></li><li><input disabled="" type="checkbox"> 统计选手得分及答题情况上物联网平台(SIoT)；</li><li><input disabled="" type="checkbox"> 通过数据库随机抽题发送到选手端；</li><li><input checked="" disabled="" type="checkbox"> 加入语音合成模块，播报指令和答题情况；</li></ul><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1>]]></content>
    
    
    <summary type="html">&lt;p&gt;基于LoRa+蓝牙+掌控板+AppInventor方案实现的一款无线抢答系统，通过手机App下达答题命令到裁判端，再由裁判端分发命令并捕捉抢答信息。&lt;/p&gt;</summary>
    
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="LoRa" scheme="http://amnesia-f.github.io/tags/LoRa/"/>
    
  </entry>
  
  <entry>
    <title>Day7：一款无线抢答系统的设计思路</title>
    <link href="http://amnesia-f.github.io/posts/997c/"/>
    <id>http://amnesia-f.github.io/posts/997c/</id>
    <published>2021-07-15T15:20:16.000Z</published>
    <updated>2022-01-30T09:23:19.105Z</updated>
    
    <content type="html"><![CDATA[<p>主要探讨了有关设计一款无线抢答器的基本思路，通过不同的通讯方式之间比较出适合本作品的最优方案。实现过程请见：Day8：一个无线抢答系统的实现过程。</p><span id="more"></span><h1 id="基本思路"><a href="#基本思路" class="headerlink" title="基本思路"></a>基本思路</h1><p>这套系统分为三个端，分别为主持人App端、主持人掌控板端与选手端。</p><p>其中主持人App端负责发出正确选项、开始抢答、下一题等指令。</p><p>主持人掌控板端负责将主持人App端发出的消息转发给下方的选手端。</p><p>选手端负责判断选手的抢答与否，并自动给分。</p><h1 id="通讯方式"><a href="#通讯方式" class="headerlink" title="通讯方式"></a>通讯方式</h1><p>前面谈到，主持人App端需要发送指令给主持人App端并转发给选手端，其中的通讯方式我们有以下几种方案：</p><h2 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h2><p>所有平台端联网，使用WiFi+MQTT方案：</p><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>1.连接方便，无需主持人掌控板端转发消息；</p><p>2.无需其他模块，使用板载WiFi即可；</p><p>3.可连接平台端数量多；</p><h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><p> 1.不稳定，延迟受网速影响，无法做到同步抢答；</p><p> 2.需要网络支持，环境受限；</p><p> 3.WiFi距离有限；</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>此方案虽然行得通，但是不稳定性太高，容易出现错误，pass.</p><h2 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h2><p>所有平台端使用掌控板蓝牙：</p><p>手机作为客户端只能连接一个蓝牙服务端，而选手端肯定不止一个，pass.</p><h2 id="方案三"><a href="#方案三" class="headerlink" title="方案三"></a>方案三</h2><p>所有平台端使用LoRa通讯：</p><p>理论可行，但是LoRa无法与手机App通讯，pass.</p><h2 id="方案四"><a href="#方案四" class="headerlink" title="方案四"></a>方案四</h2><p>使用Bluetooth+LoRa进行通讯：</p><p>主持人App端与主持人掌控板端之间使用蓝牙通讯；</p><p>主持人掌控板端接收到手机App端通过蓝牙发送来的消息后，通过LoRa发送给下方的选手端；</p><p>选手端之间的抢答判断也通过LoRa实现通讯，最后发送回主持人掌控板端进行汇总。</p><h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p>综上所述，方案四是最优的方案，我们选择方案四作为通讯方案，主持人掌控板端使用蓝牙与LoRa模块，选手端也使用LoRa模块。</p><h1 id="思维导图"><a href="#思维导图" class="headerlink" title="思维导图"></a>思维导图</h1><p>简略画了个思维导图，凑合着看看吧：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day7%EF%BC%9A%E4%B8%80%E6%AC%BE%E6%97%A0%E7%BA%BF%E6%8A%A2%E7%AD%94%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.png" alt="思维导图"></p><h1 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h1><p>见<a href="https://blog.csdn.net/weixin_58068682/article/details/118941045">Day8：一个无线抢答系统的实现过程</a></p><h1 id="随堂笔记"><a href="#随堂笔记" class="headerlink" title="随堂笔记"></a>随堂笔记</h1><p>TCP 稳定传输 常见于网站 确保不能丢包</p><p>UDP 不稳定传输 常见于视频通话 丢包无所谓</p><p>心跳机制 每隔一分钟发送一个数据包，确保对方存活</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;主要探讨了有关设计一款无线抢答器的基本思路，通过不同的通讯方式之间比较出适合本作品的最优方案。实现过程请见：Day8：一个无线抢答系统的实现过程。&lt;/p&gt;</summary>
    
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="LoRa" scheme="http://amnesia-f.github.io/tags/LoRa/"/>
    
  </entry>
  
  <entry>
    <title>Day6：LoRa模块的使用</title>
    <link href="http://amnesia-f.github.io/posts/b385/"/>
    <id>http://amnesia-f.github.io/posts/b385/</id>
    <published>2021-07-15T14:20:16.000Z</published>
    <updated>2022-01-30T09:23:24.345Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍了LoRa模块的组网通讯方式以及组网跳级，详细说明了LoRa模块间互相通讯的步骤和方法。同时提供了继电器连接的电路图和程序。</p><span id="more"></span><h1 id="模块设置"><a href="#模块设置" class="headerlink" title="模块设置"></a>模块设置</h1><h2 id="完全对等的透明组网模式设置方法"><a href="#完全对等的透明组网模式设置方法" class="headerlink" title="完全对等的透明组网模式设置方法"></a>完全对等的透明组网模式设置方法</h2><p>模块类型一致并都为<strong>主模块类型</strong>，用户接口模式一致并都为<strong>透明模式</strong>。 在此种组网模式下，每个模块串口接收到数据，都透明的广播发送到其它的模块，模块接收到别的模块发送的数据为纯透明的应用<br>数据。用户设备只能发广播数据，不需要管理其它模块的通讯短地址。</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>1.按1、2、3顺序读取当前模块的参数配置。<br>2.红色的参数设置成<strong>一样</strong>，蓝色圈选的<code>信道</code>和<code>网络ID</code>同一小组的设置成一样；绿色圈选的<code>模块地址</code>各人都不一样。<br>3.点<code>写配置</code>。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/1.png" alt="1.png"><br><strong>配置成功时软件发送框和接收框会分别显示下图信息↓</strong><br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/2.png" alt="2.png"></p><h1 id="测试通讯"><a href="#测试通讯" class="headerlink" title="测试通讯"></a>测试通讯</h1><p>1、官方配置和测试工具（只能收发16进制）：<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/3.png" alt="3.png"><br>2、可使用Xcom、sscom等串口调试软件，原理与官方工具相同，这里不作演示。</p><h1 id="发送程序"><a href="#发送程序" class="headerlink" title="发送程序"></a>发送程序</h1><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/screenshots-%E5%8F%91%E9%80%81.png" alt="screenshots-发送.png"></p><h1 id="接收程序"><a href="#接收程序" class="headerlink" title="接收程序"></a>接收程序</h1><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/screenshots-%E6%8E%A5%E6%94%B6.png" alt="screenshots-接收.png"><br>其实就是普通的串口收发程序，与前两天的蓝牙接收程序大同小异。</p><h1 id="模块介绍"><a href="#模块介绍" class="headerlink" title="模块介绍"></a>模块介绍</h1><h2 id="组网跳级介绍"><a href="#组网跳级介绍" class="headerlink" title="组网跳级介绍"></a>组网跳级介绍</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/4.png" alt="4.png"></p><h2 id="MESH-多径路由"><a href="#MESH-多径路由" class="headerlink" title="MESH 多径路由"></a>MESH 多径路由</h2><p>MESH 路由协议会综合多种选择算法进行路由的筛选，包括距离矢量、信号质量（链路状态）和节点剩余电量。</p><h3 id="1、MESH-链路状态算法路由选择"><a href="#1、MESH-链路状态算法路由选择" class="headerlink" title="1、MESH 链路状态算法路由选择"></a>1、MESH 链路状态算法路由选择</h3><p>距离矢量算法根据目的地的远近来决定的路径，每个节点都会维护一张矢量表，表中列出了当前已知的到每个目标的最佳距离。</p><p>节点可以根据这张矢量表，选择比自己更接近目的地的节点作为转发路由。根据距离矢量算法可以找到两个节点间的最近路径，但不一定是最佳路径。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/5.png" alt="5.png"></p><h3 id="2、MESH-链路状态算法路由选择"><a href="#2、MESH-链路状态算法路由选择" class="headerlink" title="2、MESH 链路状态算法路由选择"></a>2、MESH 链路状态算法路由选择</h3><p>路由协议必须能够正确选择信号质量好、链路稳定的路径才能保证网络的稳定性、实时性、可靠性和抗干扰能力。</p><p>MESH 路由协议能够迅速探测多条路由的即时链路质量，能在极短时间内选择出最佳链路质量的路径做路由，并且在必要时可以选择次最近路径作为路由。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/6.png" alt="6.png"></p><h3 id="3、MESH-节点剩余电量路由选择"><a href="#3、MESH-节点剩余电量路由选择" class="headerlink" title="3、MESH 节点剩余电量路由选择"></a>3、MESH 节点剩余电量路由选择</h3><p>MESH 路由协议采用类 MMBCRR（Min-Max Battery Cost Routing） 算法，会自动选择剩余电量相对大的节点做路由。<br><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/7.png" alt="7.png"></p><h1 id="继电器连接"><a href="#继电器连接" class="headerlink" title="继电器连接"></a>继电器连接</h1><h2 id="电路接线图"><a href="#电路接线图" class="headerlink" title="电路接线图"></a>电路接线图</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/%E6%8E%A5%E7%BA%BF%E5%9B%BE.png" alt="接线图.png"></p><h2 id="程序"><a href="#程序" class="headerlink" title="程序"></a>程序</h2><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Day6%EF%BC%9ALoRa%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/screenshots-%E7%BB%A7%E7%94%B5%E5%99%A8.png" alt="screenshots-继电器.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;本文介绍了LoRa模块的组网通讯方式以及组网跳级，详细说明了LoRa模块间互相通讯的步骤和方法。同时提供了继电器连接的电路图和程序。&lt;/p&gt;</summary>
    
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="LoRa" scheme="http://amnesia-f.github.io/tags/LoRa/"/>
    
  </entry>
  
  <entry>
    <title>Day5：蓝牙5.0模块与AppInventor通讯</title>
    <link href="http://amnesia-f.github.io/posts/e46d226a/"/>
    <id>http://amnesia-f.github.io/posts/e46d226a/</id>
    <published>2021-07-15T14:13:16.000Z</published>
    <updated>2022-01-30T09:22:18.880Z</updated>
    
    <content type="html"><![CDATA[<h1 id="蓝牙5-0模块与AppInventor通讯"><a href="#蓝牙5-0模块与AppInventor通讯" class="headerlink" title="蓝牙5.0模块与AppInventor通讯"></a>蓝牙5.0模块与AppInventor通讯</h1><h2 id="蓝牙配对过程"><a href="#蓝牙配对过程" class="headerlink" title="蓝牙配对过程"></a>蓝牙配对过程</h2><p>配对过程详见昨天的教程：<a href="https://blog.csdn.net/weixin_58068682/article/details/118739763#t7">Day4：蓝牙4.0与5.0模块的使用</a></p><h2 id="掌控接收代码"><a href="#掌控接收代码" class="headerlink" title="掌控接收代码"></a>掌控接收代码</h2><p>没什么好说的，就是简单的串口接收程序：</p><p>如果手机端发送<code>a</code>，在掌控板端即收到a的ASCII码97，这时开灯；<br>如果手机端发送<code>b</code>，在掌控板端即收到b的ASCII码98，这时关灯。<br><img src="https://img-blog.csdnimg.cn/2021071516164613.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="接收代码"></p><h2 id="App发送程序"><a href="#App发送程序" class="headerlink" title="App发送程序"></a>App发送程序</h2><p>首先打开<a href="https://wwe.lanzoui.com/iEC8Yrf80yj">蓝牙调试器</a>App，查看蓝牙模式的UUID：<br><img src="https://img-blog.csdnimg.cn/20210715162216555.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="UUID"><br>我们可以获取到以下两个UUID：<br><code>0000fff0-0000-1000-8000-00805f9b34fb</code><br><code>0000fff2-0000-1000-8000-00805f9b34fb</code>（上面软件显示的第二个UUID是错误的）</p><p>接着我们去到App Inventor的开发平台 <a href="https://app.wxbit.com/">https://app.wxbit.com/</a></p><p>新建一个项目，然后在左边组件面板点击通信连接，然后将<code>BluetoothLE</code>这个组件拖到中间的手机屏幕中，添加这个组件<br><img src="https://img-blog.csdnimg.cn/20210715162654887.png#pic_center" alt="le"><br>接着我们去到编程界面，将上面找到的UUID相对应填入其中：</p><p><em>服务UUID</em>对应的是软件中的<em>透传服务UUID</em><br><em>特征UUID</em>对应的是软件中的<em>透传TX特征的UUID</em><br><img src="https://img-blog.csdnimg.cn/20210715163001199.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>其他部分大同小异，这里不作阐述，只放出完整代码作参考：</p><h2 id="App完整代码"><a href="#App完整代码" class="headerlink" title="App完整代码"></a>App完整代码</h2><p><img src="https://img-blog.csdnimg.cn/20210715163844422.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210715164034280.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h1 id="随堂笔记"><a href="#随堂笔记" class="headerlink" title="随堂笔记"></a>随堂笔记</h1><h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><p><code>Shift+Enter</code> 换行 新起一行但不分段<br><code>Enter</code>      回车 新起一行但分段</p><h2 id="运行命令"><a href="#运行命令" class="headerlink" title="运行命令"></a>运行命令</h2><p><code>calc</code> 计算器</p><p><code>osk</code> 虚拟键盘</p><p><code>notepad</code> 记事本</p><p><code>cmd</code> 命令提示符</p><p><code>winword</code> 打开Word</p><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>字符串输出：纯输出字符<br>原始输出：ASCII的十进制值<br>十六进制输出：ASCII的十六进制值</p><h2 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h2><p><img src="https://img-blog.csdnimg.cn/20210715160626971.png#pic_center" alt="进制转换"></p><h2 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h2><p>UTF-8 </p><p>GB2312 国标简体</p><p>GB18030  </p><p>GBK 简体</p><p>Big5 繁体</p><h2 id="英文名词"><a href="#英文名词" class="headerlink" title="英文名词"></a>英文名词</h2><p>Master 主模式</p><p>Slave 从模式</p><p>Portable 便携版</p><p>Beta 测试版</p><p>Realease 正式版</p><p>RC 候选版 </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;蓝牙5-0模块与AppInventor通讯&quot;&gt;&lt;a href=&quot;#蓝牙5-0模块与AppInventor通讯&quot; class=&quot;headerlink&quot; title=&quot;蓝牙5.0模块与AppInventor通讯&quot;&gt;&lt;/a&gt;蓝牙5.0模块与AppInventor通讯&lt;/</summary>
      
    
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="蓝牙" scheme="http://amnesia-f.github.io/tags/%E8%93%9D%E7%89%99/"/>
    
  </entry>
  
  <entry>
    <title>Day4：蓝牙4.0与5.0模块的使用</title>
    <link href="http://amnesia-f.github.io/posts/77049f2e/"/>
    <id>http://amnesia-f.github.io/posts/77049f2e/</id>
    <published>2021-07-15T14:11:20.000Z</published>
    <updated>2022-02-01T09:55:20.300Z</updated>
    
    <content type="html"><![CDATA[<h1 id="蓝牙4-0无线通讯模块"><a href="#蓝牙4-0无线通讯模块" class="headerlink" title="蓝牙4.0无线通讯模块"></a>蓝牙4.0无线通讯模块</h1><h2 id="配对过程"><a href="#配对过程" class="headerlink" title="配对过程"></a>配对过程</h2><p>1、使用arduino.exe、Mind+或sscom等串口通讯软件打开蓝牙串口，配置成波特率115200，<strong>不要输出结束符</strong>，然后发送<code>+++</code>进入AT模式。<br><img src="https://img-blog.csdnimg.cn/2021071423233651.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="1"></p><p>2、<code>AT+VERSION=?</code> 可以查询下固件版本（非必须步骤）<br><strong>一定要确认下方的结束符发送部分改成了发送“NL和CR”</strong>（即自动在命令后加上换行和回车一起发送过去），以下的AT命令部分也都需要确认这个设置。<br>Arduino界面：<br><img src="https://img-blog.csdnimg.cn/20210714232719368.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>Mind+界面：<br><img src="https://img-blog.csdnimg.cn/20210714232719377.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>3、<code>AT+ROLE=?</code> 查询当前BLE芯片的主从机状态（默认值为ROLE_PERIPHERAL，从机角色）。需要将两块蓝牙修改为一主一从才能互相收发。主模式是ROLE_CENTRAL<br><img src="https://img-blog.csdnimg.cn/20210714233019811.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="3"><br>4、使用<code>AT+ROLE=ROLE_CENTRAL</code> 将一块蓝牙模块设置工作在主机状态下（另一块设置为从机角色）<br><img src="https://img-blog.csdnimg.cn/20210714233219408.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="4"><br>5、再次使用<code>AT+ROLE=?</code>确认修改主机角色成功。<br><img src="https://img-blog.csdnimg.cn/2021071423325381.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="5"><br>6、使用<code>AT+NAME=xxxxxx</code> 修改蓝牙设备名字。</p><p><img src="https://img-blog.csdnimg.cn/20210714233338817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="推荐快速设定方法"><a href="#推荐快速设定方法" class="headerlink" title="推荐快速设定方法"></a>推荐快速设定方法</h2><h3 id="从机设定："><a href="#从机设定：" class="headerlink" title="从机设定："></a>从机设定：</h3><p><code>AT+SETTING=DEFPERIPHERAL</code> 恢复成从机模式的初始设定<br><code>AT+NAME=xxxxxx</code> 改成你自定义的名字<br><code>AT+MAC=?</code> 查询当前BLE芯片MAC地址 //假设查询到的MAC地址为0x0017ea9397e1<br><code>AT+RESTART</code> 重启BLE芯片</p><h3 id="主机设定："><a href="#主机设定：" class="headerlink" title="主机设定："></a>主机设定：</h3><p><code>AT+SETTING=DEFCENTRAL</code> 恢复成主机模式的初始设定<br><code>AT+CMODE=UNIQUE</code> 设置连接模式为指定蓝牙地址连接模式<br><code>AT+BIND=0x0017ea9397e1</code> 设置BLE芯片绑定的蓝牙地址为0x0017ea9397e1（需与从机<br>模块地址一致）<br><code>AT+RESTART</code> 重启BLE芯片</p><h2 id="引脚说明"><a href="#引脚说明" class="headerlink" title="引脚说明"></a>引脚说明</h2><p><img src="https://img-blog.csdnimg.cn/2021071423364499.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>TX与RX需反接，且需要小头的杜邦线：<img src="https://img-blog.csdnimg.cn/20210714234551490.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="相关网页教程"><a href="#相关网页教程" class="headerlink" title="相关网页教程"></a>相关网页教程</h2><p>[教程]使用图形化编程实现主控板与手机蓝牙App Inventor通讯<br><a href="https://mc.dfrobot.com.cn/thread-275794-1-1.html">https://mc.dfrobot.com.cn/thread-275794-1-1.html</a><br>[教程]Arduino+App Inventor+mixly=纯图形化编程自制APP玩转bluno蓝牙4.0(BLE)<br><a href="https://mc.dfrobot.com.cn/thread-35738-1-1.html">https://mc.dfrobot.com.cn/thread-35738-1-1.html</a><br>Wiki：<br><a href="https://wiki.dfrobot.com.cn/_SKU_TEL0073_BLE-Link_%E8%93%9D%E7%89%994.0%E6%97%A0%E7%BA%BF%E9%80%9A%E8%AE%AF%E6%A8%A1%E5%9D%97">https://wiki.dfrobot.com.cn/_SKU_TEL0073_BLE-Link_蓝牙4.0无线通讯模块</a></p><h1 id="蓝牙5-0模块"><a href="#蓝牙5-0模块" class="headerlink" title="蓝牙5.0模块"></a>蓝牙5.0模块</h1><h2 id="配置过程"><a href="#配置过程" class="headerlink" title="配置过程"></a>配置过程</h2><p>一、连接设备，打开串口，设置好<strong>波特率115200</strong>，注意请选择<strong>没有结束符</strong>，以上设置好后发送<code>AT</code>，串口会返回OK：<img src="https://img-blog.csdnimg.cn/20210714235922225.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210714235922547.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>二、发送 <code>AT+ROLE?</code> 串口会返回OK+num,其中num如果等于0，代表当前处于从机模式；num如果等于1，代表当前处于主机模式；num如果等于3，代表当前处于主从一体模式<br><img src="https://img-blog.csdnimg.cn/20210714235953532.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>三、设置从机模式发送 <code>AT+ROLE=0</code> ,返回OK<br><img src="https://img-blog.csdnimg.cn/20210715000009674.png#pic_center" alt="在这里插入图片描述"></p><p>四、使能普通广播模式发送 <code>AT+ADV=1</code> ,返回OK<br><img src="https://img-blog.csdnimg.cn/20210715000222427.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>五、设置广播名称，即设置蓝牙名称，以小明为例，发送<code>AT+NAME=小明</code> ，返回OK<br><img src="https://img-blog.csdnimg.cn/20210715000308903.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>六、用手机的蓝牙调试助手，就可以搜索到我们的蓝牙<br><img src="https://img-blog.csdnimg.cn/20210715000317780.png#pic_center" alt="在这里插入图片描述"></p><h2 id="引脚说明-1"><a href="#引脚说明-1" class="headerlink" title="引脚说明"></a>引脚说明</h2><p><img src="https://img-blog.csdnimg.cn/20210715001926245.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="指令说明"><a href="#指令说明" class="headerlink" title="指令说明"></a>指令说明</h2><p>以下为全部的AT指令，详细说明见<a href="https://www.aliyundrive.com/s/dZ68vUfPM2u">分享链接</a>中的<code>蓝牙5.0命令资料.pdf</code><br><img src="https://img-blog.csdnimg.cn/20210715002447531.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81ODA2ODY4Mg==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="相关资料"><a href="#相关资料" class="headerlink" title="相关资料"></a>相关资料</h2><p>阿里云盘分享：<a href="https://www.aliyundrive.com/s/dZ68vUfPM2u">https://www.aliyundrive.com/s/dZ68vUfPM2u</a></p><p>蓝牙调试App：<br><a href="https://wwe.lanzoui.com/iEC8Yrf80yj">https://wwe.lanzoui.com/iEC8Yrf80yj</a></p><h1 id="随堂笔记"><a href="#随堂笔记" class="headerlink" title="随堂笔记"></a>随堂笔记</h1><p>通讯方式有以下几种：</p><h2 id="远距离"><a href="#远距离" class="headerlink" title="远距离"></a>远距离</h2><p><a href="https://www.baidu.com/link?url=tMJV9aruV60_1i5gfmUrdSC8qDASp5nUwSFL2MZatSi32xr71s9LD9jMRuuvba6nMaiECboAh0ub_rcjrgfozqApmW-5ljznCwRfFnqGCfO&wd=&eqid=ba754d11001f02d40000000360ef13b0">NB-IoT</a>、2/3/4/<a href="https://www.baidu.com/link?url=7ciqzObH3dEeUiAFMyxjlZg9Q6qtPuEmriDm6IO_mUojyyp8EXmTNO5g3a9HkN5KpDQJ6m-nB6OffZK8QrKrm_&wd=&eqid=828138dd001f866b0000000360ef13ca">5G</a>、<a href="https://baike.baidu.com/item/gprs/107439?fr=aladdin">GPRS</a></p><h2 id="中距离"><a href="#中距离" class="headerlink" title="中距离"></a>中距离</h2><p>LoRa</p><h2 id="近距离"><a href="#近距离" class="headerlink" title="近距离"></a>近距离</h2><p>WiFi 2.4GHz/5GHz</p><h2 id="ZigBee"><a href="#ZigBee" class="headerlink" title="ZigBee"></a>ZigBee</h2><p>特点：<br>1、低功耗      </p><p>2、低成本</p><p>3、可靠</p><p>4、网络容量大      </p><p>5、安全保密</p><p>6、工作频段灵活</p><p><del>7、传输范围小</del> </p><p><del>8、数据传输速率低</del>  </p><p><del>9、时延不易确定</del> </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;蓝牙4-0无线通讯模块&quot;&gt;&lt;a href=&quot;#蓝牙4-0无线通讯模块&quot; class=&quot;headerlink&quot; title=&quot;蓝牙4.0无线通讯模块&quot;&gt;&lt;/a&gt;蓝牙4.0无线通讯模块&lt;/h1&gt;&lt;h2 id=&quot;配对过程&quot;&gt;&lt;a href=&quot;#配对过程&quot; class=&quot;</summary>
      
    
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="蓝牙" scheme="http://amnesia-f.github.io/tags/%E8%93%9D%E7%89%99/"/>
    
  </entry>
  
  <entry>
    <title>Day3：控制MP3模块</title>
    <link href="http://amnesia-f.github.io/posts/817b8e0e/"/>
    <id>http://amnesia-f.github.io/posts/817b8e0e/</id>
    <published>2021-07-14T12:33:44.000Z</published>
    <updated>2022-01-30T06:38:24.610Z</updated>
    
    <content type="html"><![CDATA[<h1 id="手势音乐盒"><a href="#手势音乐盒" class="headerlink" title="手势音乐盒"></a>手势音乐盒</h1><h2 id="按钮控制模式"><a href="#按钮控制模式" class="headerlink" title="按钮控制模式"></a>按钮控制模式</h2><p><img src="https://img-blog.csdnimg.cn/img_convert/5eb92d767e7f7b9452ff1c35d5ec4fdb.png#pic_center" alt="在这里插入图片描述"></p><h2 id="手势控制模式"><a href="#手势控制模式" class="headerlink" title="手势控制模式"></a>手势控制模式</h2><p><img src="https://img-blog.csdnimg.cn/img_convert/293c6a8e5c203dca9dd77a69b53a88d3.png#pic_center" alt="在这里插入图片描述"></p><h2 id="主程序"><a href="#主程序" class="headerlink" title="主程序"></a>主程序</h2><p><img src="https://img-blog.csdnimg.cn/img_convert/50824b1e434b3aefd7d5b72b7c721b54.png#pic_center" alt="在这里插入图片描述"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;手势音乐盒&quot;&gt;&lt;a href=&quot;#手势音乐盒&quot; class=&quot;headerlink&quot; title=&quot;手势音乐盒&quot;&gt;&lt;/a&gt;手势音乐盒&lt;/h1&gt;&lt;h2 id=&quot;按钮控制模式&quot;&gt;&lt;a href=&quot;#按钮控制模式&quot; class=&quot;headerlink&quot; title=&quot;按</summary>
      
    
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Day2：党史问答系统</title>
    <link href="http://amnesia-f.github.io/posts/f20cb9c8/"/>
    <id>http://amnesia-f.github.io/posts/f20cb9c8/</id>
    <published>2021-07-12T09:42:56.000Z</published>
    <updated>2022-01-30T06:38:17.601Z</updated>
    
    <content type="html"><![CDATA[<h1 id="党史问答系统"><a href="#党史问答系统" class="headerlink" title="党史问答系统"></a>党史问答系统</h1><p>今年是中国共产党成立100周年，开展党史学习教育活动作为庆祝活动中的一项贯穿全年的重要活动，正在全国广大党员和群众中火热地进行着。教育活动形式多样，有参观教育基地、社区宣讲等。作为创客，我们有没有创新的方式进行学习呢？于是，我们想到了制作一个简易的党史知识答题系统。</p><p>该系统具有随机出题的功能，带有语音识别功能。这个项目使用的都是开源软硬件资源，便于广大创客朋友们学习制作。而且，由于可自行编程，题库可按需更换，功能也可以进行不断地升级。</p><p>此系统分为两种方式实现主要功能，分别为在线方式与离线方式，在线模式需WiFi支持，而离线模式则无需网络支持即可使用。</p><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><p>首先需要实现随机抽题，就需要一个题库，这里使用<a href="tinywebdb.appinventor.space">TinyWebDB服务器</a></p><p>将题目和对应的答案添加进数据库：</p><p><img src="https://pic.imgdb.cn/item/60ec6a8a5132923bf8039010.png" alt="数据库"></p><h2 id="演示视频"><a href="#演示视频" class="headerlink" title="演示视频"></a>演示视频</h2><p><a href="https://www.bilibili.com/video/BV1z64y1z7Ug/">https://www.bilibili.com/video/BV1z64y1z7Ug/</a></p><h2 id="在线方案"><a href="#在线方案" class="headerlink" title="在线方案"></a>在线方案</h2><h3 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h3><p>首先打开Mind+，进入扩展，点击用户库，搜索<code>wifi</code>，即会出现<code>WiFi语音识别</code>，点击加载即可。</p><p><img src="https://pic.imgdb.cn/item/60ec6a3c5132923bf8010f22.png" alt="扩展"></p><p>接着设定一个随机数，从数据库中抽取对应编号的题目以及选项答案，并将其显示出来：</p><p><img src="https://pic.imgdb.cn/item/60ec6a3c5132923bf8010edb.png"></p><p>显示题目与答案后，用户直接说出选项答案，程序会自动判断正确与否，如果回答正确亮绿灯；如果回答错误亮红灯，按A键进入下一题。</p><p><img src="https://pic.imgdb.cn/item/60ec6a8a5132923bf8039044.png" alt="在线识别"></p><h3 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h3><p><img src="https://pic.imgdb.cn/item/60ec6a3c5132923bf8010eb9.png" alt="screenshots-党史问答系统(在线识别)"></p><h2 id="离线方案"><a href="#离线方案" class="headerlink" title="离线方案"></a>离线方案</h2><h3 id="实现过程-1"><a href="#实现过程-1" class="headerlink" title="实现过程"></a>实现过程</h3><p>首先需要添加三个关键字，用来判断用户选择的答案：</p><p><img src="https://pic.imgdb.cn/item/60ec6a3c5132923bf8010efe.png" alt="关键字"></p><p>读取与显示部分代码与在线方案相同，这里不再展示。</p><p>接下来需要判断哪个选项为正确的：</p><p><img src="https://pic.imgdb.cn/item/60ec6a8a5132923bf8038fe4.png" alt="离线识别"></p><h3 id="完整代码-1"><a href="#完整代码-1" class="headerlink" title="完整代码"></a>完整代码</h3><p><img src="https://pic.imgdb.cn/item/60ec6a3c5132923bf8010e8e.png" alt="screenshots-党史问答系统(离线识别)"></p><h1 id="创建无法访问的文件夹"><a href="#创建无法访问的文件夹" class="headerlink" title="创建无法访问的文件夹"></a>创建无法访问的文件夹</h1><p>（实质为保护U盘）</p><p>进入cmd，输入：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> Amnesia..\</span><br></pre></td></tr></table></figure><p>即在根目录下创建了一个无法读取的文件夹：</p><p><img src="https://pic.imgdb.cn/item/60ec6d425132923bf81e8df0.png" alt="无法访问"></p><p>在cmd窗口使用菜单命令也是无法访问的：</p><p><img src="https://pic.imgdb.cn/item/60ec6e555132923bf82ad8f1.png" alt="cmd"></p><p>这个时候就需要用到以下指令：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> /x</span><br></pre></td></tr></table></figure><p>就可以查询到刚刚创建的文件夹了，它的名字为<code>AMNESI~1</code></p><p><img src="https://pic.imgdb.cn/item/60ec6e555132923bf82ad90a.png" alt="cmd1"></p><p>这个时候我们再使用cd命令就可以打开这个文件夹了：</p><p><img src="https://pic.imgdb.cn/item/60ec6e555132923bf82ad927.png" alt="cmd2"></p><p>至此，我们再输入以下指令：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> autorun.inf</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> autorun.inf</span><br></pre></td></tr></table></figure><p>ok，大功告成！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;党史问答系统&quot;&gt;&lt;a href=&quot;#党史问答系统&quot; class=&quot;headerlink&quot; title=&quot;党史问答系统&quot;&gt;&lt;/a&gt;党史问答系统&lt;/h1&gt;&lt;p&gt;今年是中国共产党成立100周年，开展党史学习教育活动作为庆祝活动中的一项贯穿全年的重要活动，正在全国广大党员</summary>
      
    
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Day1：智能问答对话程序与智能灯系列</title>
    <link href="http://amnesia-f.github.io/posts/c291af82/"/>
    <id>http://amnesia-f.github.io/posts/c291af82/</id>
    <published>2021-07-11T10:56:39.000Z</published>
    <updated>2022-01-30T06:37:01.886Z</updated>
    
    <content type="html"><![CDATA[<h1 id="测试网络连接"><a href="#测试网络连接" class="headerlink" title="测试网络连接"></a>测试网络连接</h1><p>打开cmd，输入以下指令：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ping</span> <span class="number">4</span>.<span class="number">2</span>.<span class="number">2</span>.<span class="number">2</span></span><br></pre></td></tr></table></figure><p>以上为谷歌的DNS服务器，延迟较高，可以尝试使用以下国内的DNS服务器：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ping</span> <span class="number">223</span>.<span class="number">5</span>.<span class="number">5</span>.<span class="number">5</span></span><br></pre></td></tr></table></figure><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ping</span> <span class="number">223</span>.<span class="number">6</span>.<span class="number">6</span>.<span class="number">6</span></span><br></pre></td></tr></table></figure><p>当小黑窗显示内容为下图时，即证明网络连接是正常的：</p><p><img src="https://pic.imgdb.cn/item/60eae08f5132923bf8149562.jpg" alt="ping"></p><h1 id="智能问答对话程序"><a href="#智能问答对话程序" class="headerlink" title="智能问答对话程序"></a>智能问答对话程序</h1><h2 id="机器API"><a href="#机器API" class="headerlink" title="机器API"></a>机器API</h2><p>智能机器人API： <a href="https://www.sojson.com/api/semantic.html">https://www.sojson.com/api/semantic.html</a></p><p>接口地址：<code>http://api.qingyunke.com/api.php?key=free&amp;appid=0&amp;msg=关键词</code></p><p>　　　　　<code>key</code>　固定参数free</p><p>　　　　　<code>appid</code> 设置为0，表示智能识别，可忽略此参数</p><p>　　　　　<code>msg</code>　关键词，请参考下方参数示例，该参数可智能识别，该值请经过 urlencode 处理后再提交</p><p>返回结果：<code>&#123;&quot;result&quot;:0,&quot;content&quot;:&quot;内容&quot;&#125;</code></p><p>　　　　　<code>result</code>　状态，0表示正常，其它数字表示错误</p><p>　　　　　<code>content</code>　信息内容</p><h2 id="API-Demo"><a href="#API-Demo" class="headerlink" title="API Demo"></a>API Demo</h2><ul><li><p>当我们访问url为：<code>http://api.qingyunke.com/api.php?key=free&amp;appid=0&amp;msg=鹅鹅鹅</code></p><p>此时返回值为：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;result&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;content&quot;</span>:<span class="string">&quot;曲项向天歌&quot;</span>&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>当我们访问url为：<code>http://api.qingyunke.com/api.php?key=free&amp;appid=0&amp;msg=你好</code></p><p>此时返回值为：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;result&quot;</span>:<span class="number">0</span>,<span class="attr">&quot;content&quot;</span>:<span class="string">&quot;你好，我就开心了&quot;</span>&#125;</span><br></pre></td></tr></table></figure></li></ul><p>我们可以发现，返回值的前面23个字符都是相同的，所以我们需要的内容是第24个字符开始到倒数第3个字符</p><p><img src="https://pic.imgdb.cn/item/60eae47f5132923bf823d933.jpg" alt="请求"></p><h2 id="整体代码"><a href="#整体代码" class="headerlink" title="整体代码"></a>整体代码</h2><p><img src="https://pic.imgdb.cn/item/60eaf25c5132923bf862a05b.png" alt="screenshots-智能问答对话程序"></p><h2 id="机器人在线语音对话api调用资料"><a href="#机器人在线语音对话api调用资料" class="headerlink" title="机器人在线语音对话api调用资料"></a>机器人在线语音对话api调用资料</h2><p><code>http://api.qingyunke.com/api.php?key=free&amp;appid=0&amp;msg=鹅鹅鹅</code></p><p>微信公众平台新增语义理解接口<br><a href="https://www.cnblogs.com/txw1958/p/weixin-semantic.html">https://www.cnblogs.com/txw1958/p/weixin-semantic.html</a></p><p>BosonNLP API 中文语义分析（笔记）【boson已经停止提供服务了，可使用 百度AI 的 NLP 功能】<br><a href="https://blog.csdn.net/m0_37952030/article/details/78304088?fps=1&locationNum=2">https://blog.csdn.net/m0_37952030/article/details/78304088?fps=1&amp;locationNum=2</a></p><p><a href="https://developer.aliyun.com/articlezt/8531424-1.html?spm=a2c4e.11155472">https://developer.aliyun.com/articlezt/8531424-1.html?spm=a2c4e.11155472</a></p><p>智能机器人API接口说明<br><a href="https://www.sojson.com/api/semantic.html">https://www.sojson.com/api/semantic.html</a></p><p>为了挖掘大数据中的商业价值，“玻森数据”开放了一个中文语义分析 API | NEXT Big<br><a href="https://36kr.com/p/1720926093313">https://36kr.com/p/1720926093313</a></p><p>智能机器人API<br><a href="https://www.sojson.com/api/semantic.html">https://www.sojson.com/api/semantic.html</a></p><p>NLP-Python-SDK<br><a href="https://ai.baidu.com/ai-doc/NLP/tk6z52b9z">https://ai.baidu.com/ai-doc/NLP/tk6z52b9z</a></p><h1 id="智能灯系列"><a href="#智能灯系列" class="headerlink" title="智能灯系列"></a>智能灯系列</h1><p>一共有四个模式：</p><ol><li>光控模式</li><li>声控模式</li><li>呼吸模式</li><li>档位模式</li></ol><p><img src="https://pic.imgdb.cn/item/60eaff575132923bf8b00b8d.png" alt="screenshots-智能灯系列"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;测试网络连接&quot;&gt;&lt;a href=&quot;#测试网络连接&quot; class=&quot;headerlink&quot; title=&quot;测试网络连接&quot;&gt;&lt;/a&gt;测试网络连接&lt;/h1&gt;&lt;p&gt;打开cmd，输入以下指令：&lt;/p&gt;
&lt;figure class=&quot;highlight cmd&quot;&gt;&lt;table</summary>
      
    
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="学习笔记" scheme="http://amnesia-f.github.io/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>阿里云IoT：读取掌控板环境数值</title>
    <link href="http://amnesia-f.github.io/posts/dcd4d5c3/"/>
    <id>http://amnesia-f.github.io/posts/dcd4d5c3/</id>
    <published>2021-05-16T12:43:13.000Z</published>
    <updated>2022-01-29T13:28:25.934Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前讲过了如何使用阿里云控制板载灯亮灭的实现过程，原理十分简单，仅仅是使用一个布尔值控制开关，属于云平台发送指令到硬件端执行。</p><p>今天来讲讲如何在硬件端发送数据至云平台，实现一个读取掌控板环境数值的程序，例如每隔半个小时发送一次声音光照强度及温湿度数值。</p><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><h2 id="云平台"><a href="#云平台" class="headerlink" title="云平台"></a>云平台</h2><p>关于阿里云的注册问题，已在<a href="https://amnesia-f.gitee.io/posts/c232.html">阿里云IoT：控制掌控板板载灯亮灭</a>中详细讲过，这里不再重复，不会的同学请自行重新学习一遍。</p><h2 id="软件部分"><a href="#软件部分" class="headerlink" title="软件部分"></a>软件部分</h2><p>使用<code>Mind+ V1.7.0 RC3.0</code>版本；</p><p>在扩展部分选择<code>网络服务</code>中的“MQTT”及“Wi-Fi”；</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%98%BF%E9%87%8C%E4%BA%91IoT%EF%BC%9A%E8%AF%BB%E5%8F%96%E6%8E%8C%E6%8E%A7%E6%9D%BF%E7%8E%AF%E5%A2%83%E6%95%B0%E5%80%BC/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1.png"></p><p>在<code>用户库</code>中搜索json，添加json解析。</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%98%BF%E9%87%8C%E4%BA%91IoT%EF%BC%9A%E8%AF%BB%E5%8F%96%E6%8E%8C%E6%8E%A7%E6%9D%BF%E7%8E%AF%E5%A2%83%E6%95%B0%E5%80%BC/%E6%95%B0%E6%8D%AE%E5%BA%93.png"></p><p>这些东西都会在后面使用到。</p><h1 id="创建产品"><a href="#创建产品" class="headerlink" title="创建产品"></a>创建产品</h1><h3 id="1-新建一个名为“DHT11”的产品"><a href="#1-新建一个名为“DHT11”的产品" class="headerlink" title="1.新建一个名为“DHT11”的产品"></a>1.新建一个名为“DHT11”的产品</h3><p>进入控制台 <a href="https://iot.console.aliyun.com/product">https://iot.console.aliyun.com/product</a> ；</p><p>点击左上角新建产品，</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%98%BF%E9%87%8C%E4%BA%91IoT%EF%BC%9A%E8%AF%BB%E5%8F%96%E6%8E%8C%E6%8E%A7%E6%9D%BF%E7%8E%AF%E5%A2%83%E6%95%B0%E5%80%BC/%E5%88%9B%E5%BB%BA%E4%BA%A7%E5%93%81.png"></p><p>新建一个名为 “DHT11” 的产品，节点类型为直连设备：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%98%BF%E9%87%8C%E4%BA%91IoT%EF%BC%9A%E8%AF%BB%E5%8F%96%E6%8E%8C%E6%8E%A7%E6%9D%BF%E7%8E%AF%E5%A2%83%E6%95%B0%E5%80%BC/%E6%96%B0%E5%BB%BA%E4%BA%A7%E5%93%81.png"></p><p>产品创建完成后，将自动出现在产品列表中。</p><h3 id="2-进行功能定义"><a href="#2-进行功能定义" class="headerlink" title="2.进行功能定义"></a>2.进行功能定义</h3><p>点击【查看】进行功能定义：</p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%98%BF%E9%87%8C%E4%BA%91IoT%EF%BC%9A%E8%AF%BB%E5%8F%96%E6%8E%8C%E6%8E%A7%E6%9D%BF%E7%8E%AF%E5%A2%83%E6%95%B0%E5%80%BC/%E5%8A%9F%E8%83%BD%E5%AE%9A%E4%B9%89.png"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/%E9%98%BF%E9%87%8C%E4%BA%91IoT%EF%BC%9A%E8%AF%BB%E5%8F%96%E6%8E%8C%E6%8E%A7%E6%9D%BF%E7%8E%AF%E5%A2%83%E6%95%B0%E5%80%BC/%E5%AE%9A%E4%B9%89%E5%8A%9F%E8%83%BD.png"></p><p>这里一共使用四个功能，分别对应着湿度、温度、声音分贝值、光照强度。</p><p>在填入功能名称时会真的匹配模板，选择合适的即可，选择好模板后下面的标识符、取值范围、数据类型、步长等数据也会一并自动填好。</p><blockquote><p>注意：这里所有功能的功能类型都属于只读，这里的案例和之前的控制开关不同，只需要读取数据，不需要改写！</p></blockquote><h1 id="添加设备"><a href="#添加设备" class="headerlink" title="添加设备"></a>添加设备</h1><p>回到控制台，点击<strong>“设备&gt;添加设备”</strong>：</p><p>添加一个名为“DHT11”的设备，这里的设备名与产品名同样只是为了好记，也可以随意设置其他的。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;之前讲过了如何使用阿里云控制板载灯亮灭的实现过程，原理十分简单，仅仅是使用一个布尔值控制开关，属于云平台发送指令到硬件端执行。&lt;/p&gt;
&lt;p</summary>
      
    
    
    
    <category term="IoT物联网" scheme="http://amnesia-f.github.io/categories/IoT%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
    
    <category term="物联网" scheme="http://amnesia-f.github.io/tags/%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
    <category term="阿里云" scheme="http://amnesia-f.github.io/tags/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title>SIoT：App Inventor控制掌控板</title>
    <link href="http://amnesia-f.github.io/posts/73b37fcd/"/>
    <id>http://amnesia-f.github.io/posts/73b37fcd/</id>
    <published>2021-04-24T13:05:02.000Z</published>
    <updated>2021-04-24T14:00:34.688Z</updated>
    
    <content type="html"><![CDATA[<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><h2 id="SIoT简介"><a href="#SIoT简介" class="headerlink" title="SIoT简介"></a>SIoT简介</h2><p>​    SIoT为一个为中小学STEM教育定制的跨平台的开源MQTT服务器程序，S指科学（Science）、简单（Simple）的意思。SIoT支持Win10、Win7、Mac、Linux等操作系统，支持虚谷号、树莓派等迷你电脑，一键启动，无需注册和设置即可使用。SIoT重点关注物联网数据的收集和导出，是采集科学数据的最好选择之一。</p><p><img src="https://img.imgdb.cn/item/6084222cd1a9ae528f0167f0.png"></p><h2 id="物联网"><a href="#物联网" class="headerlink" title="物联网"></a>物联网</h2><p>​    物联网（Internet of Things，缩写IoT）是互联网的一个延伸，互联网的终端是计算机（PC、服务器），而物联网的终端是硬件设备，无论是家电、工业设备、汽车、监测仪器，所有这些终端都可以互联，可以总结为万物互联。</p><p><img src="https://img.imgdb.cn/item/6084222cd1a9ae528f016815.jpg"></p><h2 id="MQTT"><a href="#MQTT" class="headerlink" title="MQTT"></a>MQTT</h2><p>MQTT（Message Queuing Telemetry Transport，消息队列遥测传输协议）是一个基于客户端-服务器的消息发布/订阅传输协议。MQTT协议是轻量、简单、开放和易于实现的，这些特点使它适用范围非常广泛。</p><p><img src="https://img.imgdb.cn/item/6084222cd1a9ae528f0167cf.png"></p><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>DFRobot的论坛上已经有很多关于EasyIoT与App Inventor通讯的教程，而其他物联网平台例如OneNet和阿里云的也有不少和安卓端通讯的案例，但是我发现，论坛上没有一篇关于介绍SIoT与App Inventor通讯的教程，于是萌生了写这篇教程的想法。</p><h1 id="实现过程"><a href="#实现过程" class="headerlink" title="实现过程"></a>实现过程</h1><p>关于SIot的前期工作及服务器配置这里不详细展开阐述。</p><h2 id="Mind"><a href="#Mind" class="headerlink" title="Mind+"></a>Mind+</h2><p><img src="https://img.imgdb.cn/item/6084222cd1a9ae528f01679b.png"></p><h2 id="App-Inventor"><a href="#App-Inventor" class="headerlink" title="App Inventor"></a>App Inventor</h2><p><img src="https://img.imgdb.cn/item/6084222cd1a9ae528f0167b8.png"></p><p><img src="https://img.imgdb.cn/item/60842293d1a9ae528f060ca0.png"></p><p>IP地址即为你的SIot服务器ip地址（笔记本）</p><p>端口默认为1883</p><blockquote><p>注意：手机、掌控板、服务器需处在同一局域网内！</p></blockquote><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h1&gt;&lt;h2 id=&quot;SIoT简介&quot;&gt;&lt;a href=&quot;#SIoT简介&quot; class=&quot;headerlink&quot; title=&quot;SIoT简介&quot;&gt;&lt;/a&gt;S</summary>
      
    
    
    
    <category term="IoT物联网" scheme="http://amnesia-f.github.io/categories/IoT%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
    
    <category term="物联网" scheme="http://amnesia-f.github.io/tags/%E7%89%A9%E8%81%94%E7%BD%91/"/>
    
    <category term="SIoT" scheme="http://amnesia-f.github.io/tags/SIoT/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客技巧：添加首页置顶轮播图</title>
    <link href="http://amnesia-f.github.io/posts/caba8902/"/>
    <id>http://amnesia-f.github.io/posts/caba8902/</id>
    <published>2021-03-13T12:31:52.000Z</published>
    <updated>2022-01-29T12:37:27.097Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本来想自己写教程的，无奈操作基本都是添加代码，自己写也没有什么意义，直接搬作者的教程过来好了。</p><p>原文：<a href="https://akilar.top/posts/8e1264d1/">Akilar：基于 swiper 的首页置顶轮播图</a></p><h1 id="写在最前"><a href="#写在最前" class="headerlink" title="写在最前"></a>写在最前</h1><p>本项目是对冰卡诺老师写的<a href="https://zfe.space/post/11009.html">教程：基于 Butterfly 主题的轮播手动置顶文章</a>进行重构，精简了部分样式。适配 pjax。</p><h1 id="资源下载"><a href="#资源下载" class="headerlink" title="资源下载"></a>资源下载</h1><blockquote><p>由于本教程涉及的所有修改对缩进格式等有严格要求，担心自己控制不好的可以直接下载静态资源。参照教程进行修改。</p></blockquote><p><a href="https://wws.lanzous.com/iLCPzmsn5ud">下载资源文件</a> </p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Hexo%E5%8D%9A%E5%AE%A2%E6%8A%80%E5%B7%A7%EF%BC%9A%E6%B7%BB%E5%8A%A0%E9%A6%96%E9%A1%B5%E7%BD%AE%E9%A1%B6%E8%BD%AE%E6%92%AD%E5%9B%BE/%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88.png" alt="效果预览.png"></p><h1 id="魔改步骤"><a href="#魔改步骤" class="headerlink" title="魔改步骤"></a>魔改步骤</h1><p>1.新建 <code>[Blogroot]\themes\butterfly\layout\includes\sliderbar.pug</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.blog-slider.swiper-container-fade.swiper-container-horizontal#swiper_container</span><br><span class="line">  .blog-slider__wrp.swiper-wrapper(style=&#x27;transition-duration: 0ms;&#x27;)</span><br><span class="line">    if site.data.slider</span><br><span class="line">      each i in site.data.slider</span><br><span class="line">        .blog-slider__item.swiper-slide(style=&#x27;width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;&#x27;)</span><br><span class="line">          a.blog-slider__img(href=url_for(i.link)  alt=&#x27;&#x27;)|</span><br><span class="line">            img(width=&#x27;48&#x27; height=&#x27;48&#x27; src=url_for(i.cover) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.post_page) + `&#x27;`, alt=&#x27;&#x27;)</span><br><span class="line">          .blog-slider__content</span><br><span class="line">            span.blog-slider__code= i.timeline</span><br><span class="line">            a.blog-slider__title(href=url_for(i.link)  alt=&#x27;&#x27;)= i.title</span><br><span class="line">            .blog-slider__text= i.description</span><br><span class="line">            a.blog-slider__button(href=url_for(i.link)  alt=&#x27;&#x27;)= i.button      </span><br><span class="line">  .blog-slider__pagination.swiper-pagination-clickable.swiper-pagination-bullets</span><br><span class="line">script(defer src=url_for(theme.CDN.swiper_js))</span><br><span class="line">script(defer data-pjax src=url_for(theme.CDN.swiper_init))</span><br></pre></td></tr></table></figure><p>2.修改 <code>[Blogroot]\themes\butterfly\layout\index.pug</code>，引入轮播图版块，注意 <code>butterfly_v3.6.0</code> 取消了缓存配置，转为完全默认，需要将 <code>&#123;cache:theme.fragment_cache&#125;</code> 改为 <code>&#123;cache: true&#125;</code>：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">    block content</span><br><span class="line">      include ./includes/mixins/post-ui.pug</span><br><span class="line">      #recent-posts.recent-posts</span><br><span class="line"><span class="addition">+       .recent-post-item(style=&#x27;height:auto;width:100%;&#x27;)</span></span><br><span class="line"><span class="addition">+         !=partial(&#x27;includes/sliderbar&#x27;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span></span><br><span class="line">        +postUI</span><br><span class="line">        include includes/pagination.pug</span><br></pre></td></tr></table></figure><p>3.新建<code>[Blogroot]\themes\butterfly\source\js\swiper_init.js</code>,</p><blockquote><p>此处是 swiper 的初始化参数，具体配置内容可以自定义，详细参数请参看 <a href="https://akilar.top/posts/8e1264d1/">Swiper 官方文档</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> swiper = <span class="keyword">new</span> Swiper(<span class="string">&#x27;.blog-slider&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">passiveListeners</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">spaceBetween</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">effect</span>: <span class="string">&#x27;fade&#x27;</span>,</span><br><span class="line">  <span class="attr">loop</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">autoplay</span>: &#123;</span><br><span class="line">    <span class="attr">disableOnInteraction</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">delay</span>: <span class="number">3000</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mousewheel</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">// autoHeight: true,</span></span><br><span class="line">  <span class="attr">pagination</span>: &#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;.blog-slider__pagination&#x27;</span>,</span><br><span class="line">    <span class="attr">clickable</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> comtainer = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;swiper_container&#x27;</span>);</span><br><span class="line">comtainer.onmouseenter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  swiper.autoplay.stop();</span><br><span class="line">&#125;;</span><br><span class="line">comtainer.onmouseleave = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  swiper.autoplay.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.新建 <code>[Blogroot]\themes\butterfly\source\css\_layout\swiperstyle.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">  <span class="attribute">box-sizing</span> border-box</span><br><span class="line">div<span class="selector-id">#swiper_container</span></span><br><span class="line">  <span class="attribute">background</span> rgba(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);</span><br><span class="line"><span class="selector-class">.blog-slider</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">  <span class="attribute">position</span> relative</span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">12px</span> <span class="number">8px</span> <span class="number">8px</span> <span class="number">12px</span></span><br><span class="line">  <span class="attribute">margin</span> auto</span><br><span class="line">  <span class="attribute">background</span> var(--global-bg)</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span></span><br><span class="line">  <span class="attribute">transition</span> all .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__item</span></span><br><span class="line">  <span class="attribute">display</span> flex</span><br><span class="line">  <span class="attribute">align-items</span> center</span><br><span class="line">  &amp;<span class="selector-class">.swiper-slide-active</span></span><br><span class="line">    <span class="selector-class">.blog-slider__img</span></span><br><span class="line">      <span class="selector-tag">img</span></span><br><span class="line">        <span class="attribute">opacity</span> <span class="number">1</span></span><br><span class="line">        <span class="attribute">transition-delay</span> .<span class="number">3s</span></span><br><span class="line">    <span class="selector-class">.blog-slider__content</span></span><br><span class="line">      &amp; &gt; *</span><br><span class="line">        <span class="attribute">opacity</span> <span class="number">1</span></span><br><span class="line">        <span class="attribute">transform</span> none</span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.3s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.4s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.5s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.6s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">5</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.7s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">6</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.8s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">7</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">0.9s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">8</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">9</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.1s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">10</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.2s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">11</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.3s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">12</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.4s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">13</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.5s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">14</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.6s</span></span><br><span class="line">      &amp; &gt; *<span class="selector-pseudo">:nth-child</span>(<span class="number">15</span>)</span><br><span class="line">        <span class="attribute">transition-delay</span> <span class="number">1.7s</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__img</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">200px</span></span><br><span class="line">  <span class="attribute">flex-shrink</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">10px</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">5px</span></span><br><span class="line">  <span class="attribute">transform</span> translateX(<span class="number">0px</span>)</span><br><span class="line">  <span class="attribute">overflow</span> hidden</span><br><span class="line">  &amp;:after</span><br><span class="line">    <span class="attribute">content</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">5px</span></span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0.8</span></span><br><span class="line">  <span class="selector-tag">img</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">    <span class="attribute">object-fit</span> cover</span><br><span class="line">    <span class="attribute">display</span> block</span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">5px</span></span><br><span class="line">    <span class="attribute">transition</span> all .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__content</span></span><br><span class="line">  <span class="attribute">padding-right</span> <span class="number">50px</span></span><br><span class="line">  <span class="attribute">padding-left</span> <span class="number">50px</span></span><br><span class="line">  &amp; &gt; *</span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">25px</span>)</span><br><span class="line">    <span class="attribute">transition</span> all .<span class="number">4s</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__code</span></span><br><span class="line">  <span class="attribute">color</span> var(--font-color)</span><br><span class="line">  <span class="attribute">margin-bottom</span> <span class="number">0px</span></span><br><span class="line">  <span class="attribute">display</span> block</span><br><span class="line">  <span class="attribute">font-weight</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__title</span></span><br><span class="line">  <span class="attribute">font-size</span> <span class="number">18px</span></span><br><span class="line">  <span class="attribute">font-weight</span> <span class="number">700</span></span><br><span class="line">  <span class="attribute">color</span> var(--font-color)</span><br><span class="line">  <span class="attribute">margin-bottom</span> <span class="number">15px</span></span><br><span class="line">  -webkit-line-clamp <span class="number">1</span></span><br><span class="line">  <span class="attribute">display</span> -webkit-box</span><br><span class="line">  <span class="attribute">overflow</span> hidden</span><br><span class="line">  -webkit-box-orient vertical</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__text</span></span><br><span class="line">  <span class="attribute">color</span> var(--font-color)</span><br><span class="line">  -webkit-line-clamp <span class="number">1</span></span><br><span class="line">  <span class="attribute">display</span> -webkit-box</span><br><span class="line">  <span class="attribute">overflow</span> hidden</span><br><span class="line">  -webkit-box-orient vertical</span><br><span class="line">  <span class="attribute">margin-bottom</span> <span class="number">15px</span></span><br><span class="line">  <span class="attribute">line-height</span> <span class="number">1.5em</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">  <span class="attribute">display</span> block</span><br><span class="line">  <span class="attribute">word-break</span> break-all</span><br><span class="line">  <span class="attribute">word-wrap</span> break-word</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__button</span></span><br><span class="line">  <span class="attribute">display</span> inline-flex</span><br><span class="line">  <span class="attribute">background-color</span> var(--btn-bg)</span><br><span class="line">  <span class="attribute">padding</span> <span class="number">4px</span> <span class="number">14px</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">8px</span></span><br><span class="line">  <span class="attribute">color</span> var(--btn-color)</span><br><span class="line">  <span class="attribute">text-decoration</span> none</span><br><span class="line">  <span class="attribute">font-weight</span> <span class="number">500</span></span><br><span class="line">  <span class="attribute">justify-content</span> center</span><br><span class="line">  <span class="attribute">text-align</span> center</span><br><span class="line">  <span class="attribute">letter-spacing</span> <span class="number">1px</span></span><br><span class="line">  <span class="attribute">display</span> none</span><br><span class="line">  <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">    <span class="attribute">background-color</span> var(--btn-hover-color)</span><br><span class="line">    <span class="attribute">color</span> var(--btn-color)</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider</span> <span class="selector-class">.swiper-container-horizontal</span> &gt; <span class="selector-class">.swiper-pagination-bullets</span>, <span class="selector-class">.blog-slider</span> <span class="selector-class">.swiper-pagination-custom</span>, <span class="selector-class">.blog-slider</span> <span class="selector-class">.swiper-pagination-fraction</span></span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">10px</span></span><br><span class="line">  <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.blog-slider__pagination</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">21</span></span><br><span class="line">  <span class="attribute">right</span> <span class="number">20px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">11px</span> <span class="meta">!important</span></span><br><span class="line">  <span class="attribute">text-align</span> center</span><br><span class="line">  <span class="attribute">left</span> auto <span class="meta">!important</span></span><br><span class="line">  <span class="attribute">top</span> <span class="number">50%</span></span><br><span class="line">  <span class="attribute">bottom</span> auto <span class="meta">!important</span></span><br><span class="line">  <span class="attribute">transform</span> translateY(-<span class="number">50%</span>)</span><br><span class="line">  &amp;<span class="selector-class">.swiper-pagination-bullets</span></span><br><span class="line">    <span class="selector-class">.swiper-pagination-bullet</span></span><br><span class="line">      <span class="attribute">margin</span> <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">  <span class="selector-class">.swiper-pagination-bullet</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">11px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">11px</span></span><br><span class="line">    <span class="attribute">display</span> block</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#858585</span></span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0.2</span></span><br><span class="line">    <span class="attribute">transition</span> all .<span class="number">3s</span></span><br><span class="line">  <span class="selector-class">.swiper-pagination-bullet-active</span></span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">1</span></span><br><span class="line">    <span class="attribute">background</span> var(--btn-bg)</span><br><span class="line">    <span class="attribute">height</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">600px</span>)</span><br><span class="line">  .blog-slider__pagination</span><br><span class="line">    transform translateX(-<span class="number">50%</span>)</span><br><span class="line">    left <span class="number">50%</span> !important</span><br><span class="line">    top <span class="number">320px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span> !important</span><br><span class="line">    display flex</span><br><span class="line">    justify-content center</span><br><span class="line">    align-items center</span><br><span class="line"></span><br><span class="line">  .blog-slider__pagination</span><br><span class="line">    &amp;.swiper-pagination-bullets</span><br><span class="line">      .swiper-pagination-bullet</span><br><span class="line">        margin <span class="number">0</span> <span class="number">5px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider__pagination</span><br><span class="line">    .swiper-pagination-bullet-active</span><br><span class="line">      <span class="attribute">height</span> <span class="number">11px</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider__button</span><br><span class="line">    display inline-flex</span><br><span class="line">    <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">  .blog-slider__text</span><br><span class="line">    margin-bottom <span class="number">40px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider</span><br><span class="line">    <span class="attribute">min-height</span> <span class="number">350px</span></span><br><span class="line">    <span class="attribute">height</span> auto</span><br><span class="line">    margin-top <span class="number">110px</span></span><br><span class="line">    margin-bottom <span class="number">10px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider__content</span><br><span class="line">    margin-top -<span class="number">80px</span></span><br><span class="line">    text-align center</span><br><span class="line">    padding <span class="number">0</span> <span class="number">30px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider__item</span><br><span class="line">    flex-direction column</span><br><span class="line"></span><br><span class="line">  .blog-slider__img</span><br><span class="line">    transform translateY(-<span class="number">50%</span>)</span><br><span class="line">    <span class="attribute">width</span> <span class="number">90%</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  .blog-slider__content</span><br><span class="line">    padding-left <span class="number">10px</span></span><br><span class="line">    padding-right <span class="number">10px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider__pagination.swiper-pagination-clickable.swiper-pagination-bullets</span><br><span class="line">    top <span class="number">110px</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@media screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">600px</span>)</span><br><span class="line">  .blog-slider</span><br><span class="line">    <span class="attribute">height</span> <span class="number">200px</span></span><br><span class="line"></span><br><span class="line">  .blog-slider__img</span><br><span class="line">    <span class="attribute">height</span> <span class="number">200px</span></span><br></pre></td></tr></table></figure><p>5.配置 CDN 依赖项，</p><ul><li><p>修改 <code>[Blogroot]\_config.butterfly.yml</code>,</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    CDN:</span><br><span class="line">      # main</span><br><span class="line">      main_css: /css/index.css</span><br><span class="line">      jquery: https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js</span><br><span class="line">      main: /js/main.js</span><br><span class="line">      utils: /js/utils.js</span><br><span class="line"><span class="addition">+     # 首页轮播图</span></span><br><span class="line"><span class="addition">+     swiper_js: https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/js/swiper.min.js</span></span><br><span class="line"><span class="addition">+     swiper_css: https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.1.6/css/swiper.min.css</span></span><br><span class="line"><span class="addition">+     swiper_init: /js/swiper_init.js</span></span><br></pre></td></tr></table></figure></li><li><p>修改 <code>[Blogroot]\themes\butterfly\source\css\index.styl</code>, 在最上方添加引入内容：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ @import url(hexo-config(&#x27;CDN.swiper_css&#x27;))</span></span><br><span class="line">  if hexo-config(&#x27;css_prefix&#x27;)</span><br><span class="line">    @import &#x27;nib&#x27;</span><br><span class="line">  @import &#x27;_third-party/normalize.min.css&#x27;</span><br><span class="line">  // project</span><br><span class="line">  @import &#x27;var&#x27;</span><br><span class="line">  @import &#x27;_global/*&#x27;</span><br><span class="line">  @import &#x27;_highlight/highlight&#x27;</span><br><span class="line">  @import &#x27;_page/*&#x27;</span><br><span class="line">  @import &#x27;_layout/*&#x27;</span><br><span class="line">  @import &#x27;_tags/*&#x27;</span><br><span class="line">  @import &#x27;_mode/*&#x27;</span><br></pre></td></tr></table></figure></li></ul><p>6.新建 <code>[Blogroot]\source\_data\slider.yml</code>, 在里面填写想要置顶的文章的信息</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">封面图片链接</span></span><br><span class="line">  <span class="attr">timeline:</span> <span class="string">&#x27;2020-10-01&#x27;</span> <span class="comment"># 日期，需要用&#x27;&#x27;包裹</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">置顶文章链接，站内文章建议填相对链接</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">置顶文章标题</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">置顶文章描述</span></span><br><span class="line">  <span class="attr">button:</span> <span class="string">手机端按钮内容</span></span><br><span class="line"><span class="comment"># 示例如下</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">https://cdn.jsdelivr.net/gh/drew233/cdn/logol.png</span></span><br><span class="line">  <span class="attr">timeline:</span> <span class="string">&#x27;2021-02-08&#x27;</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">/posts/d6c8.html</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Hexo博客技巧：添加说说页面</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">讲述如何利用Artitalk给博客添加说说页面.</span></span><br><span class="line">  <span class="attr">button:</span> <span class="string">详情</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">cover:</span> <span class="string">https://upimage.alexhchu.com/2021/02/18/5fa9404c2179f.png</span></span><br><span class="line">  <span class="attr">timeline:</span> <span class="string">&#x27;2021-02-07&#x27;</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">/posts/c232.html</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">阿里云IoT：控制掌控板板载灯亮灭</span></span><br><span class="line">  <span class="attr">description:</span> <span class="string">一个使用阿里云IoT的教程.</span></span><br><span class="line">  <span class="attr">button:</span> <span class="string">详情</span></span><br></pre></td></tr></table></figure><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><blockquote><p>原文：<a href="https://akilar.top/posts/8e1264d1/">Akilar：基于 swiper 的首页置顶轮播图</a></p></blockquote><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本来想自己写教程的，无奈操作基本都是添加代码，自己写也没有什么意义，直接搬作者的教程过来好了。&lt;/p&gt;
&lt;p&gt;原文：&lt;a href=&quot;htt</summary>
      
    
    
    
    <category term="Hexo博客" scheme="http://amnesia-f.github.io/categories/Hexo%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="技巧" scheme="http://amnesia-f.github.io/categories/Hexo%E5%8D%9A%E5%AE%A2/%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="Hexo" scheme="http://amnesia-f.github.io/tags/Hexo/"/>
    
    <category term="博客" scheme="http://amnesia-f.github.io/tags/%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="技巧" scheme="http://amnesia-f.github.io/tags/%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>Cyber Manhunt 全网公敌v1.2.56 官方中文版</title>
    <link href="http://amnesia-f.github.io/posts/efaec666/"/>
    <id>http://amnesia-f.github.io/posts/efaec666/</id>
    <published>2021-03-08T12:00:09.000Z</published>
    <updated>2022-01-29T13:11:38.500Z</updated>
    
    <content type="html"><![CDATA[<h1 id="游戏介绍"><a href="#游戏介绍" class="headerlink" title="游戏介绍"></a>游戏介绍</h1><p>***全网公敌***是一款结合了网络安全、大数据、隐私泄露等社会问题的剧情向黑客解密游戏，玩家扮演一名“黑客”，通过网络搜索和社工手段获取目标人物信息，其所有爱好、生活习惯、人际关系和隐藏最深的秘密都无处遁形。游戏目前共五个章节，每个故事看似各自独立，随着剧情的发展却是草蛇灰线，伏脉千里。当所有事件串联起来，竟隐藏着惊天的秘密……</p><p>游戏中的故事也能看到社会热点话题的影子，希望玩家在游玩的同时，对网络本身也能产生反思，学会保护好个人隐私。</p><p><strong>第一章：程序员之死</strong><br>某公司CEO跳楼自杀，自称被毒妻勒索千万；而妻子却在社交网络上发布被家暴的照片。谣言满天，谁在说谎？</p><p><strong>第二章：看不见的眼睛</strong><br>女大学生的不雅视频在网络疯传，这一刻，她已然社会性死亡。到底谁才是始作俑者？女性的安全又该由谁去保护？</p><p><strong>第三章：消失的证据</strong><br>品学兼优的学生会长忽然失踪。霸凌事件使案情越发扑朔迷离。谁是凶手，谁是受害者？</p><p><strong>第四章：羞辱的代价</strong><br>天降巨瓜，女歌星再次被爆黑料！恐吓信、炒作、前女团成员自杀事件……网络再掀舆论狂欢！</p><p><strong>第五章：代码永生</strong><br>当社会陷入癫狂，你是否也愿意加入永生代码，获得真正的爱与永生？</p><h1 id="游戏特色"><a href="#游戏特色" class="headerlink" title="游戏特色"></a>游戏特色</h1><ul><li><p>代入感强</p><p>在虚构的世界里，玩家扮演一名黑客，接受一家公司委托，完成一个个不同的社工事件，体验真实的黑客操作。</p></li><li><p>玩法多样</p><p>游戏内有多个系统，除了社工系统，还会有推理、追踪、解谜，破坏侵入等系统需要玩家们去一一攻破。</p></li><li><p>剧情复杂</p><p>游戏中你将面临大量的选择和谜题，而不同的选择可能将导致不同的结局。</p></li><li><p>人物众多</p><p>登场人物众多，每个人物都有自己的性格特点，而他们背后都有着不为人知的故事，需要作为黑客的你去一一发现事件的真相。</p></li></ul><h1 id="游戏玩法"><a href="#游戏玩法" class="headerlink" title="游戏玩法"></a>游戏玩法</h1><ul><li><p>网络搜索<br>玩家通过浏览器搜索功能收集目标对象的基础信息。</p></li><li><p>数据库<br>利用已知信息输入到数据库中，通过筛选后或许目标对象的其他信息。</p></li><li><p>破解<br>通过获得的目标人物信息来生成密码，用于登陆各平台的账户（包括邮箱、社交平台、聊天软件等）。</p></li><li><p>伪装<br>获取目标对象的需求、社交圈等，根据信息选择伪装，通过和目标对象接触套取更多信息。</p></li><li><p>聊天套话<br>添加目标对象为好友后，进行聊天套话获取信息。</p></li><li><p>图片分析<br>从图片中获取有价值的信息内容及相关线索。</p></li><li><p>钓鱼<br>发送钓鱼链接侵入目标人物的硬件设备（电脑、手机），获取到隐私信息。</p></li></ul><h1 id="游戏截图"><a href="#游戏截图" class="headerlink" title="游戏截图"></a>游戏截图</h1><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/1.png" alt="1" style="zoom:80%;" /><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/2.jpg" alt="2"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/3.jpg" alt="3"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/4.jpg" alt="4"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/5.jpg" alt="5"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/6.jpg" alt="6"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/7.jpg" alt="7"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/8.jpg" alt="8"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/9.jpg" alt="9"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/10.jpg" alt="10"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/11.jpg" alt="11"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/12.jpg" alt="12"></p><p><img src="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/13.jpg" alt="13"></p><h1 id="配置要求"><a href="#配置要求" class="headerlink" title="配置要求"></a>配置要求</h1><table><thead><tr><th align="center"></th><th align="center">最低配置</th><th align="center">推荐配置</th></tr></thead><tbody><tr><td align="center">操作系统</td><td align="center">Windows 7/8/10</td><td align="center">Windows 7/8/10</td></tr><tr><td align="center">CPU</td><td align="center">Intel(R) Core(TM) i3-3220</td><td align="center">Intel(R) Core(TM) i5-3470</td></tr><tr><td align="center">内存</td><td align="center">4 GB RAM</td><td align="center">8 GB RAM</td></tr><tr><td align="center">显卡</td><td align="center">NVIDIA GeForce GT 610</td><td align="center">NVIDIA GeForce GT 630</td></tr><tr><td align="center">存储空间</td><td align="center">需要 3 GB 可用空间</td><td align="center">需要 3 GB 可用空间</td></tr><tr><td align="center">DirectX 版本</td><td align="center">9.0c</td><td align="center">9.0c</td></tr><tr><td align="center">声卡</td><td align="center">100% DirectX 9.0c compatible sound card</td><td align="center">100% DirectX 9.0c compatible sound card</td></tr></tbody></table><h1 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h1><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">百度网盘</button></li><li class="tab"><button type="button" data-href="#test3-2">115网盘</button></li><li class="tab"><button type="button" data-href="#test3-3">eD2K下载</button></li><li class="tab"><button type="button" data-href="#test3-4">BT种子下载</button></li><li class="tab"><button type="button" data-href="#test3-5">Steam正版购买</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p>链接: <a href="https://pan.baidu.com/s/1HVtPI0MgPC5pIu12E1RQVg">https://pan.baidu.com/s/1HVtPI0MgPC5pIu12E1RQVg</a> 提取码: gqs31</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p>链接：<a href="https://115.com/s/swnzvpc3hba#%20Cyber.Manhunt.Early.Access.v1.2.56.Steam">https://115.com/s/swnzvpc3hba#%20Cyber.Manhunt.Early.Access.v1.2.56.Steam</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p>eD2K下载地址：<code>ed2k://|file|Cyber.Manhunt.Early.Access.v1.2.56.Steam.rar|908253550|91483cd60a52f2f9125f16f78af6ac22|/</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-4"><p>BT种子下载地址：<a href="https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/Cyber.Manhunt.Early.Access.v1.2.56.Steam.torrent">https://cdn.jsdelivr.net/gh/Amnesia-f/jsDelivr_CDN/post/Cyber%20Manhunt%20%E5%85%A8%E7%BD%91%E5%85%AC%E6%95%8Cv1-2-56/Cyber.Manhunt.Early.Access.v1.2.56.Steam.torrent</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-5"><p>Steam正版购买链接：<a href="https://store.steampowered.com/app/1216710/">https://store.steampowered.com/app/1216710/</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>从网络上找的一小部分攻略，来源<a href="http://www.ddooo.com/softdown/176464.htm">http://www.ddooo.com/softdown/176464.htm</a></p><div class="hide-toggle" ><div class="hide-button toggle-title" style=""><i class="fas fa-caret-right fa-fw"></i><span>第一章：程序员之死 游戏攻略</span></div>    <div class="hide-content"><p>开头链接点击Kapil Modi、Lisa Snyder收集文档，在浏览器输入主人公名字得到HK号和常用名，并点击她婚前就向我隐瞒了婚史收集文档，在律师发声界面点击底下图片并打开扫描得五个信息。<br><img src="http://www.ddooo.com/uppic/200827/202008271641472082.jpg" alt="img"><br>女主人婚恋网得到邮箱号和HK账号，接着打开数据库输入相关信息，然后破解得出邮箱密码，登录邮箱点击James Joyce、银行账单图片收集。<br>在浏览器中TB页面得到常用名和TB号，打开TB找回密码中输入她的TB账号，在邮箱里查看链接即可登录TB查看隐藏信息，点击总是在没有人的时候一次又一次家暴我、那都是他在家暴我之后主动示好送给我的、同学电话021-498-4937、日光浴照片收集文档信息，打电话给她的同学，步骤为伪装—实话实说—关于Lisa—关于大学，打完电话点击我的室友Antony也在追求她收集信息。<br><img src="http://www.ddooo.com/uppic/200827/202008271641551341.jpg" alt="img"><br>开始第一个推理，步骤为没被家暴—Robert Cohen—有很多收入，得到公司名字然后浏览器搜索，点击联系方式和另一个创始人的名字。数据库输入主人公姓名和邮箱得出具体信息，接着在破解中输入具体信息得到邮箱密码，登录邮箱在第三个邮件点击Carter Harris、HK号382943858。<br>浏览器输入第三个人的名字，在TB点击常用名和HK号、Lisa和她母亲；浏览器输入第四人名字，提取码为他的HK号，点击录音里有两个信息收集。<br><img src="http://www.ddooo.com/uppic/200827/202008271642018538.jpg" alt="img"><br>第二个推理步骤为：骚扰—两个都是—面临破产。点击伪装和女主人对话步骤为两次恐吓和询问，点击4次婚姻、订制服务、Antony，然后和婚恋网打电话，结束后点击对方说的最后一句话得到网址，接着入侵服务器，输入网址，动态码随机的，输入就行，点击第一个文档收集后退出。<br>数据库输入第四个人相关信息，然后破解，登入HK号，点击提出离婚、威胁、商量对策，然后提交信息，这样就过关了。</p></div></div><div class="hide-toggle" ><div class="hide-button toggle-title" style=""><i class="fas fa-caret-right fa-fw"></i><span>第二章：看不见的眼睛 游戏攻略</span></div>    <div class="hide-content"><p>点开邮箱，点击完系统给的文档收集，按照惯例，浏览器输入Tom的名字，最底下找到TB进入，点击常用名和TB号收集，点击破解输入相关信息得到密码，登录邮箱在收件里点击视频、033-8594-685、那么我们是否该见面、Elsie收集，然后在已发送邮件里找到并点击我是个不懂浪漫的男人收集。<br>打开浏览器输入女主名字在底下找到TB进入，点击常用名和TB号收集，这里部分图片显示加密，后面会解答，这里点击我是说你和Adam Edwards?收集，接着打开数据库输入女主相关信息得到具体信息，然后打开破解输入信息得到密码，点击HK登录，第二个聊天里点击第一句话、第四个聊天里点击第一句话和底下图片、和妹妹的聊天里我不想和别人倾诉、和男友聊天里第一句话和图片底下第一句话、我们分手吧进行收集。<br><img src="http://www.ddooo.com/uppic/200827/202008271642084816.jpg" alt="img"><br>打开TB登录女主账号，此时可以看到之前加密看不到的内容，点击受伤图片、向日葵旅馆收集，打开数据库输入第三个人的姓名得到具体信息，打开浏览器输入第三个人的姓名点击底下TB内容，点击常用名和TB号收集，接着打开破解输入相关信息后得到密码，登录HK第三个人的账号，但是并没有要收集的，可看可不看。<br>打开入侵，点击第四个唱歌图片制作钓鱼链接，输入女主电话号码，拖动解锁，相册密码为偶像名字，日记线索在相册里的彩虹和我最重要的东西，连线按照彩虹颜色排列，打开日记后，第七个文档里的那个男人、最后一个文档里的给了Adam点击收集，点击浏览器收集第一句话。<br>浏览器输入向日葵旅馆，打开网址点击旅馆经理名字、预约电话、酒店图片收集，记住第一条评价，之后要用到。浏览器输入旅馆经理姓名，底下打开TB网页，点击常用名、TB号、开车图片收集，记住这个纹身图片，还有纹身图片下的一个评论点击收集。<br>开始第一个推理，第一个步骤为纹身图片、Adam、Tom；第二个步骤为纹身威胁者、恋人Adam、Tom不相识；第三个步骤为在Jon的TB见过；第四个步骤选中间三个；第五个为Tom。<br><img src="http://www.ddooo.com/uppic/200827/202008271642169387.jpg" alt="img"><br>给向日葵客服打电话，步骤为Darlene Perry—10月11日，这里的信息为上方旅馆评价里的，然后点击电话号码收集。打开数据库输入旅馆经理信息查询，然后破解后得到密码，登录TB账号，第一个邮件需要暂时不需要理会，点击收件箱第三个邮件里第一句话、第五个邮件里的图片、你可以称呼我为van、已发送里第一个邮件的第一句话收集。<br>点击追踪，很简单点击相似图片即可，得知旅馆经理已飞升。点击窃听记录查看一番没有收集要素;打开HK登录旅馆经理的号，点击第二个对话里第四句话、和Sarah对话里的小宝贝收集。打开旅馆经理信息倒数第二个网络地址链接，点击第一个吧规里的吧主名字和HK号，第二个里的视频图片收集。<br>打开浏览器输入吧主名字得到真实姓名，打开数据库输入信息得到部分信息并破解得到密码，登录HK号，点击和Adam对话里注册了一个ID、倒数第一个对话里的二十多家酒店、话剧社十几个、购买药剂、三角图片收集。<br><img src="http://www.ddooo.com/uppic/200827/202008271642231049.jpg" alt="img"><br>进行第二个推理，回答分别为：van、AI项目、Porn x，密码符号根据图片排列即可，然后得到一个奇怪的密码，这是旅馆经理邮箱里那个加密的密码，打开邮箱，点击加密文件里的网址收集，接着打开入侵，输入得到的网址，动态码随机自己按照填，声波自己调，成功匹配后，点击up文件里的图片、清除计划里的姓名是旅馆经理名字，进入点Miranda收集。<br>选择提交信息一堆话后就可以成功通关。</p><blockquote><p>Modi线索找法分享：很多小伙伴在Modi线索处卡了关，无法通过浏览器找到更多。而且打给Lisa的电话谈论的不是同学，不清楚怎么玩。这里我们要注意这个电话，在电话打完后的通话记录有线索，人名那个。找到这个就可以继续下去了。</p></blockquote></div></div><blockquote><p>有能力请支持正版！<a href="https://store.steampowered.com/app/1216710">https://store.steampowered.com/app/1216710</a></p></blockquote><h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;游戏介绍&quot;&gt;&lt;a href=&quot;#游戏介绍&quot; class=&quot;headerlink&quot; title=&quot;游戏介绍&quot;&gt;&lt;/a&gt;游戏介绍&lt;/h1&gt;&lt;p&gt;***全网公敌***是一款结合了网络安全、大数据、隐私泄露等社会问题的剧情向黑客解密游戏，玩家扮演一名“黑客”，通过网络搜索</summary>
      
    
    
    
    <category term="游戏资源" scheme="http://amnesia-f.github.io/categories/%E6%B8%B8%E6%88%8F%E8%B5%84%E6%BA%90/"/>
    
    
    <category term="游戏" scheme="http://amnesia-f.github.io/tags/%E6%B8%B8%E6%88%8F/"/>
    
  </entry>
  
</feed>
